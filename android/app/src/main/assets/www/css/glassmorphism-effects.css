/**
 * GLASSMORPHISM EFFECTS - Efectos modernos de vidrio esmerilado
 * Diseño visual moderno con backdrop-filter y transparencias
 *
 * @version 1.0.0
 */

/* ========================================
   GLASSMORPHISM BASE
   ======================================== */

/* Clase base para efectos glass */
.glass-effect {
  background: rgba(30, 30, 45, 0.7);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Variante clara */
.glass-light {
  background: rgba(244, 233, 216, 0.15);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border: 1px solid rgba(212, 175, 55, 0.2);
}

/* Variante oscura intensa */
.glass-dark {
  background: rgba(10, 10, 15, 0.85);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid rgba(0, 0, 0, 0.5);
}

/* ========================================
   APLICACIONES ESPECÍFICAS
   ======================================== */

/* Paneles principales */
.mission-selector,
.being-display,
.pieces-deck {
  background: rgba(30, 30, 45, 0.7);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Cards de elementos */
.book-tree-item,
.piece-card,
.mission-card,
.being-card {
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);
  border: 1px solid rgba(212, 175, 55, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.book-tree-item:hover,
.piece-card:hover,
.mission-card:hover {
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  border-color: rgba(212, 175, 55, 0.4);
  transform: translateY(-2px);
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.4),
    0 0 20px rgba(212, 175, 55, 0.2);
}

/* Modales glass */
#saved-beings-modal,
#mission-selection-modal,
[id$="-modal"] {
  background: rgba(15, 15, 25, 0.8);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
}

.saved-beings-header,
.modal-header {
  background: linear-gradient(135deg, rgba(30, 30, 45, 0.95), rgba(20, 20, 35, 0.95));
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid rgba(212, 175, 55, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Bottom sheet glass */
#pieces-bottom-sheet {
  background: rgba(20, 20, 35, 0.95);
  backdrop-filter: blur(16px) saturate(150%);
  -webkit-backdrop-filter: blur(16px) saturate(150%);
  border-top: 2px solid rgba(212, 175, 55, 0.3);
  box-shadow:
    0 -4px 20px rgba(0, 0, 0, 0.3),
    0 -1px 0 rgba(255, 255, 255, 0.1);
}

/* Header sticky glass */
.lab-header {
  background: linear-gradient(135deg, rgba(30, 30, 45, 0.95), rgba(20, 20, 35, 0.95));
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 2px solid rgba(212, 175, 55, 0.3);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
}

/* ========================================
   EFECTOS DE PROFUNDIDAD
   ======================================== */

/* Elevación nivel 1 (cards) */
.elevation-1 {
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

/* Elevación nivel 2 (hovercards) */
.elevation-2 {
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.08);
}

/* Elevación nivel 3 (modales) */
.elevation-3 {
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.1);
}

/* ========================================
   BORDES LUMINOSOS
   ======================================== */

.luminous-border {
  position: relative;
  border: 1px solid transparent;
}

.luminous-border::before {
  content: '';
  position: absolute;
  inset: -1px;
  background: linear-gradient(
    135deg,
    rgba(212, 175, 55, 0.3),
    rgba(184, 115, 51, 0.3),
    rgba(212, 175, 55, 0.1)
  );
  border-radius: inherit;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.luminous-border:hover::before {
  opacity: 1;
}

/* ========================================
   GRADIENTES ANIMADOS
   ======================================== */

@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animated-gradient {
  background: linear-gradient(
    135deg,
    rgba(30, 30, 45, 0.7),
    rgba(40, 35, 55, 0.7),
    rgba(30, 30, 45, 0.7)
  );
  background-size: 200% 200%;
  animation: gradient-shift 10s ease infinite;
}

/* ========================================
   OVERLAYS CON BLUR
   ======================================== */

.overlay-blur {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 1000;
}

/* ========================================
   FROST EFFECT (HIELO ESMERILADO)
   ======================================== */

.frost {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1),
    rgba(255, 255, 255, 0.05)
  );
  backdrop-filter: blur(10px) brightness(1.1);
  -webkit-backdrop-filter: blur(10px) brightness(1.1);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1);
}

/* ========================================
   RESPONSIVE DEGRADATION
   ======================================== */

/* En móviles de gama baja, reducir blur */
@media (max-width: 768px) and (prefers-reduced-motion: reduce) {
  .glass-effect,
  .glass-light,
  .glass-dark,
  .mission-selector,
  .being-display,
  .pieces-deck {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }

  #saved-beings-modal,
  #mission-selection-modal,
  [id$="-modal"] {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

/* Fallback para navegadores sin soporte */
@supports not (backdrop-filter: blur(10px)) {
  .glass-effect,
  .mission-selector,
  .being-display,
  .pieces-deck {
    background: rgba(30, 30, 45, 0.95);
  }

  #saved-beings-modal,
  #mission-selection-modal,
  [id$="-modal"] {
    background: rgba(15, 15, 25, 0.98);
  }
}

/* ========================================
   SHIMMER EFFECT
   ======================================== */

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  animation: shimmer 3s infinite;
}

/* ========================================
   GLOW EFFECTS
   ======================================== */

.glow-gold {
  box-shadow:
    0 0 20px rgba(212, 175, 55, 0.3),
    0 0 40px rgba(212, 175, 55, 0.1),
    inset 0 0 10px rgba(212, 175, 55, 0.05);
}

.glow-purple {
  box-shadow:
    0 0 20px rgba(139, 92, 246, 0.3),
    0 0 40px rgba(139, 92, 246, 0.1),
    inset 0 0 10px rgba(139, 92, 246, 0.05);
}

/* Glow animado */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow:
      0 0 20px rgba(212, 175, 55, 0.3),
      0 0 40px rgba(212, 175, 55, 0.1);
  }
  50% {
    box-shadow:
      0 0 30px rgba(212, 175, 55, 0.5),
      0 0 60px rgba(212, 175, 55, 0.2);
  }
}

.pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* ========================================
   NEUMORPHISM (OPCIONAL)
   ======================================== */

.neumorphic {
  background: linear-gradient(145deg, rgba(35, 35, 50, 0.9), rgba(25, 25, 40, 0.9));
  box-shadow:
    8px 8px 16px rgba(0, 0, 0, 0.4),
    -8px -8px 16px rgba(50, 50, 70, 0.1);
}

.neumorphic-inset {
  background: linear-gradient(145deg, rgba(25, 25, 40, 0.9), rgba(35, 35, 50, 0.9));
  box-shadow:
    inset 8px 8px 16px rgba(0, 0, 0, 0.4),
    inset -8px -8px 16px rgba(50, 50, 70, 0.1);
}

/* ========================================
   MICRO-INTERACCIONES
   ======================================== */

/* Efecto ripple al hacer click */
.ripple-effect {
  position: relative;
  overflow: hidden;
}

.ripple-effect::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(212, 175, 55, 0.4);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.ripple-effect:active::before {
  width: 300px;
  height: 300px;
}

/* Hover lift con glass */
.glass-lift {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-lift:hover {
  transform: translateY(-4px);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  box-shadow:
    0 16px 48px rgba(0, 0, 0, 0.4),
    0 0 30px rgba(212, 175, 55, 0.2);
}
