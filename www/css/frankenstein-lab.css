:root{--franken-dark:#0a0a0f;--franken-parchment:#f4e9d8;--franken-sepia:#8b7355;--franken-blood:#8b0000;--franken-copper:#b87333;--franken-brass:#d4af37;--franken-green:#2d5016;--franken-purple:#4a235a;--franken-lightning:#e0f7ff;--paper-texture:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="noise"><feTurbulence baseFrequency="0.9" numOctaves="4"/></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.05"/></svg>');--parchment-texture:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><defs><filter id="parchment"><feTurbulence baseFrequency="0.02" numOctaves="5" seed="2"/><feColorMatrix values="1 0 0 0 0.9 0 1 0 0 0.85 0 0 1 0 0.7 0 0 0 1 0"/></filter></defs><rect width="200" height="200" fill="%23f4e9d8" filter="url(%23parchment)"/></svg>');--technical-grid:repeating-linear-gradient(0deg, rgba(139, 115, 85, 0.12) 0px, transparent 1px, transparent 40px, rgba(139, 115, 85, 0.12) 41px),repeating-linear-gradient(90deg, rgba(139, 115, 85, 0.12) 0px, transparent 1px, transparent 40px, rgba(139, 115, 85, 0.12) 41px),repeating-linear-gradient(0deg, rgba(139, 115, 85, 0.05) 0px, transparent 1px, transparent 10px, rgba(139, 115, 85, 0.05) 11px),repeating-linear-gradient(90deg, rgba(139, 115, 85, 0.05) 0px, transparent 1px, transparent 10px, rgba(139, 115, 85, 0.05) 11px);--da-vinci-bg:url('https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Da_Vinci_Vitruve_Luc_Viatour.jpg/800px-Da_Vinci_Vitruve_Luc_Viatour.jpg');--ink-stains:radial-gradient(ellipse at 15% 20%, rgba(139, 115, 85, 0.06) 0%, transparent 40%),radial-gradient(ellipse at 85% 75%, rgba(139, 115, 85, 0.04) 0%, transparent 35%),radial-gradient(ellipse at 50% 90%, rgba(139, 115, 85, 0.03) 0%, transparent 30%);--old-paper-pattern:repeating-linear-gradient(
    0deg,
    transparent,
    transparent 24px,
    rgba(139, 115, 85, 0.03) 24px,
    rgba(139, 115, 85, 0.03) 25px
  );--shadow-deep:0 8px 20px rgba(0, 0, 0, 0.7),0 2px 8px rgba(0, 0, 0, 0.5);--shadow-card:0 4px 12px rgba(0, 0, 0, 0.6),inset 0 1px 2px rgba(255, 255, 255, 0.1);--glow-lightning:0 0 20px var(--franken-lightning),0 0 40px rgba(224, 247, 255, 0.5)}.frankenstein-laboratory{position:fixed;inset:0;background:var(--technical-grid),var(--da-vinci-bg),var(--ink-stains),var(--parchment-texture),var(--old-paper-pattern),linear-gradient(180deg,rgba(26,26,46,.92) 0,rgba(10,10,15,.95) 50%,rgba(26,26,46,.92) 100%);background-size:40px 40px,contain,100% 100%,400px 400px,100% 100%,100% 100%;background-position:center,center,center,center,center,center;background-repeat:repeat,no-repeat,repeat,repeat,repeat,no-repeat;background-blend-mode:overlay,luminosity,multiply,overlay,overlay,normal;font-family:'Crimson Text',Garamond,Georgia,serif;color:var(--franken-parchment);overflow:hidden;z-index:50;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}@keyframes lightning-flash{0%,100%{opacity:0}50%{opacity:.3}}@keyframes page-turn{from{opacity:0;transform:perspective(1000px) rotateY(-15deg);transform-origin:left center}to{opacity:1;transform:perspective(1000px) rotateY(0)}}@keyframes gentle-pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.02)}}@keyframes bounce-in{0%{opacity:0;transform:scale(.3)}50%{transform:scale(1.05)}70%{transform:scale(.9)}100%{opacity:1;transform:scale(1)}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}.frankenstein-laboratory::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 50% 0,var(--franken-lightning) 0,transparent 40%);opacity:0;pointer-events:none;animation:lightning-flash 8s ease-in-out infinite}.lab-header{position:relative;padding:.75rem 1.5rem;background:linear-gradient(180deg,rgba(26,26,46,.95) 0,rgba(10,10,15,.9) 100%);border-bottom:3px solid var(--franken-copper);box-shadow:0 4px 20px rgba(0,0,0,.8);text-align:center;z-index:10}.lab-title{font-size:1.8rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;margin:0;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 50%,var(--franken-brass) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, .8));font-family:Cinzel,'Playfair Display',serif}.lab-subtitle{font-size:.8rem;color:var(--franken-sepia);margin-top:.25rem;font-style:italic;letter-spacing:.15em}.lab-header::after,.lab-header::before{content:'‚öô';position:absolute;top:50%;transform:translateY(-50%);font-size:1.5rem;color:var(--franken-brass);opacity:.6}.lab-header::before{left:1rem}.lab-header::after{right:1rem}.lab-workspace{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto 1fr;height:calc(100vh - 120px);padding:.5rem;gap:.5rem;overflow:hidden}@media (max-width:1024px){.lab-workspace{grid-template-columns:1fr;grid-template-rows:auto auto 1fr;height:auto;min-height:calc(100vh - 100px);overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch}.being-display,.mission-selector,.pieces-deck{grid-column:1!important}}.organs-table{background:linear-gradient(135deg,rgba(139,115,85,.2) 0,rgba(74,35,90,.2) 100%),var(--paper-texture);border:4px solid var(--franken-copper);border-radius:12px;padding:1.5rem;box-shadow:var(--shadow-deep);position:relative;overflow-x:auto;overflow-y:hidden}.organs-table::before{content:'‚öó √ìRGANOS DISPONIBLES ‚öó';position:absolute;top:-1rem;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--franken-purple) 0,var(--franken-blood) 100%);color:var(--franken-parchment);padding:.5rem 2rem;border-radius:20px;font-size:.9rem;font-weight:700;letter-spacing:.2em;border:2px solid var(--franken-brass);box-shadow:var(--shadow-card)}.organs-carousel{display:flex;gap:1rem;padding:1rem 0;overflow-x:auto;scrollbar-width:thin;scrollbar-color:var(--franken-copper) var(--franken-dark)}.organ-card{flex:0 0 180px;width:180px;height:260px;background:linear-gradient(135deg,var(--franken-parchment) 0,#e8dcc4 100%),var(--paper-texture);border:3px solid var(--franken-copper);border-radius:8px;padding:1rem;cursor:pointer;position:relative;transition:all .3s cubic-bezier(.4, 0, .2, 1);box-shadow:var(--shadow-card);display:flex;flex-direction:column;align-items:center}.organ-card::before{content:'';position:absolute;inset:6px;border:1px solid rgba(139,115,85,.3);border-radius:6px;pointer-events:none}.organ-card:hover{transform:translateY(-10px) scale(1.05);box-shadow:var(--shadow-deep),0 0 30px rgba(212,175,55,.4);border-color:var(--franken-brass)}.organ-card.selected{background:linear-gradient(135deg,#fff9e6 0,var(--franken-parchment) 100%);border-color:var(--franken-brass);box-shadow:var(--shadow-deep),0 0 40px rgba(212,175,55,.6),inset 0 0 20px rgba(212,175,55,.2)}.organ-card.required{border-color:var(--franken-blood)}.organ-card.required::after{content:'‚ö† VITAL';position:absolute;top:.5rem;right:.5rem;background:var(--franken-blood);color:#fff;font-size:.6rem;padding:.2rem .4rem;border-radius:4px;font-weight:700;letter-spacing:.05em}.organ-icon{font-size:4rem;margin:1rem 0;filter:drop-shadow(0 4px 8px rgba(0, 0, 0, .3))}.organ-name{font-size:1.1rem;font-weight:700;color:var(--franken-dark);text-align:center;margin:.5rem 0;text-transform:uppercase;letter-spacing:.05em;font-family:Cinzel,serif}.organ-category{font-size:.75rem;color:var(--franken-sepia);font-style:italic;text-align:center;margin:.25rem 0}.organ-description{font-size:.7rem;color:var(--franken-sepia);text-align:center;line-height:1.4;flex:1}.body-display{background:radial-gradient(ellipse at center,rgba(74,35,90,.3) 0,rgba(10,10,15,.8) 70%),var(--paper-texture);border:4px solid var(--franken-copper);border-radius:12px;padding:2rem;box-shadow:var(--shadow-deep);position:relative;display:flex;justify-content:center;align-items:center;overflow:hidden}.body-display::before{content:'‚ö° EL CUERPO DIVINO ‚ö°';position:absolute;top:1rem;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--franken-purple) 0,var(--franken-blood) 100%);color:var(--franken-parchment);padding:.5rem 2rem;border-radius:20px;font-size:.9rem;font-weight:700;letter-spacing:.2em;border:2px solid var(--franken-brass);box-shadow:var(--shadow-card);z-index:10}.body-silhouette{width:400px;max-width:90%;height:600px;position:relative;background:radial-gradient(ellipse at center,rgba(244,233,216,.1) 0,transparent 70%);filter:drop-shadow(0 0 40px rgba(224, 247, 255, .2))}.anatomy-slot{position:absolute;width:80px;height:80px;border:3px dashed var(--franken-copper);border-radius:50%;background:radial-gradient(circle,rgba(139,115,85,.2) 0,transparent 70%);display:flex;align-items:center;justify-content:center;font-size:2rem;cursor:pointer;transition:all .3s ease}.anatomy-slot:hover{border-color:var(--franken-brass);background:radial-gradient(circle,rgba(212,175,55,.3) 0,transparent 70%);box-shadow:0 0 20px rgba(212,175,55,.5)}.anatomy-slot.filled{border-style:solid;border-color:var(--franken-brass);background:radial-gradient(circle,rgba(212,175,55,.4) 0,rgba(139,115,85,.2) 70%);box-shadow:0 0 30px rgba(212,175,55,.6)}.anatomy-slot.required{border-color:var(--franken-blood);animation:pulse-required 2s ease-in-out infinite}@keyframes pulse-required{0%,100%{box-shadow:0 0 10px rgba(139,0,0,.5)}50%{box-shadow:0 0 30px rgba(139,0,0,.8)}}.anatomy-slot[data-slot=head]{top:5%;left:50%;transform:translateX(-50%)}.anatomy-slot[data-slot=heart]{top:35%;left:35%}.anatomy-slot[data-slot=lungs]{top:35%;right:35%}.anatomy-slot[data-slot=hands]{top:40%;left:10%}.anatomy-slot[data-slot=muscles]{top:40%;right:10%}.anatomy-slot[data-slot=spine]{top:50%;left:50%;transform:translateX(-50%)}.anatomy-slot[data-slot=digestive]{top:65%;left:50%;transform:translateX(-50%)}.anatomy-slot[data-slot=skeleton]{top:80%;left:50%;transform:translateX(-50%)}.anatomy-slot[data-slot=throat]{top:20%;left:50%;transform:translateX(-50%)}.cells-deck{background:linear-gradient(135deg,rgba(45,80,22,.3) 0,rgba(74,35,90,.3) 100%),var(--paper-texture);border:4px solid var(--franken-copper);border-radius:12px;padding:1.5rem;box-shadow:var(--shadow-deep);position:relative;max-height:200px;overflow-y:auto}.cells-deck::before{content:'üß¨ C√âLULAS PARA FUSIONAR üß¨';position:absolute;top:-1rem;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--franken-green) 0,var(--franken-purple) 100%);color:var(--franken-parchment);padding:.5rem 2rem;border-radius:20px;font-size:.9rem;font-weight:700;letter-spacing:.2em;border:2px solid var(--franken-brass);box-shadow:var(--shadow-card);z-index:10}.cells-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:1rem;padding-top:1rem}.cell-token{background:linear-gradient(135deg,var(--franken-parchment) 0,#e8dcc4 100%),var(--paper-texture);border:2px solid var(--franken-copper);border-radius:8px;padding:.75rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px rgba(0,0,0,.4);display:flex;flex-direction:column;align-items:center;gap:.5rem}.cell-token:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.6),0 0 20px rgba(212,175,55,.3);border-color:var(--franken-brass)}.cell-token.selected{background:linear-gradient(135deg,#fff9e6 0,var(--franken-parchment) 100%);border-color:var(--franken-brass);border-width:3px;box-shadow:0 8px 20px rgba(0,0,0,.6),0 0 30px rgba(212,175,55,.5),inset 0 0 15px rgba(212,175,55,.2)}.cell-token[data-type="teor√≠a"]{border-left:4px solid #3b82f6}.cell-token[data-type="pr√°ctica"]{border-left:4px solid #10b981}.cell-token[data-type="teor√≠a-pr√°ctica"]{border-left:4px solid #a855f7}.cell-chapter-title{font-size:.85rem;font-weight:600;color:var(--franken-dark);text-align:center;line-height:1.3}.cell-book-badge{font-size:.65rem;color:var(--franken-sepia);background:rgba(139,115,85,.2);padding:.2rem .5rem;border-radius:10px;text-align:center}.lab-controls{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;margin-top:.5rem;flex-shrink:0}.lab-button{padding:.6rem 1rem;background:linear-gradient(135deg,var(--franken-copper) 0,var(--franken-brass) 100%);color:var(--franken-dark);border:2px solid var(--franken-dark);border-radius:6px;font-size:.85rem;font-weight:700;text-transform:uppercase;letter-spacing:.1em;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-card);font-family:Cinzel,serif;position:relative;overflow:hidden}.lab-button::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,transparent 0,rgba(255,255,255,.3) 50%,transparent 100%);transform:translateX(-100%);transition:transform .6s ease}.lab-button:hover::before{transform:translateX(100%)}.lab-button:hover{transform:translateY(-3px);box-shadow:var(--shadow-deep),0 0 30px rgba(212,175,55,.6);border-color:var(--franken-brass)}.lab-button:active{transform:translateY(-1px)}.lab-button.primary{background:linear-gradient(135deg,var(--franken-blood) 0,var(--franken-purple) 100%);color:var(--franken-parchment);animation:pulse-glow 2s ease-in-out infinite}.lab-button.secondary{background:linear-gradient(135deg,var(--franken-copper) 0,var(--franken-brass) 100%);color:var(--franken-dark);font-weight:700}.lab-button.secondary:hover{background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-lightning) 100%);box-shadow:var(--shadow-card),0 0 30px rgba(212,175,55,.6)}.lab-button.danger{background:linear-gradient(135deg,#7f1d1d 0,#b91c1c 100%);color:var(--franken-parchment);border-color:rgba(185,28,28,.8)}.lab-button.danger:hover{background:linear-gradient(135deg,#dc2626 0,#f87171 100%);box-shadow:var(--shadow-card),0 0 30px rgba(220,38,38,.6)}@keyframes pulse-glow{0%,100%{box-shadow:var(--shadow-card),0 0 20px rgba(139,0,0,.5)}50%{box-shadow:var(--shadow-card),0 0 40px rgba(139,0,0,.8)}}.lab-button:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.body-vitality{position:absolute;top:2rem;right:2rem;background:rgba(10,10,15,.9);border:3px solid var(--franken-copper);border-radius:12px;padding:1.5rem;min-width:200px;box-shadow:var(--shadow-card)}.vitality-title{font-size:.9rem;font-weight:700;color:var(--franken-brass);text-transform:uppercase;letter-spacing:.1em;margin-bottom:1rem;text-align:center}.vitality-bar{width:100%;height:20px;background:rgba(139,115,85,.3);border-radius:10px;overflow:hidden;border:2px solid var(--franken-copper)}.vitality-fill{height:100%;background:linear-gradient(90deg,var(--franken-blood) 0,var(--franken-green) 100%);transition:width .5s ease;box-shadow:0 0 10px rgba(45,80,22,.6)}.organs-count{margin-top:.5rem;font-size:.8rem;color:var(--franken-sepia);text-align:center}@keyframes lightning-strike{0%,100%{opacity:0}10%,30%,50%{opacity:1}20%,40%,60%{opacity:0}}.fusion-lightning{position:fixed;inset:0;background:radial-gradient(circle at 50% 50%,var(--franken-lightning) 0,transparent 60%);pointer-events:none;opacity:0;z-index:100;animation:lightning-strike 1s ease-in-out}@keyframes float-particles{0%,100%{transform:translateY(0) rotate(0);opacity:.3}50%{transform:translateY(-20px) rotate(180deg);opacity:.6}}.floating-particle{position:absolute;width:4px;height:4px;background:var(--franken-brass);border-radius:50%;opacity:.3;animation:float-particles 6s ease-in-out infinite;pointer-events:none}.cells-deck::-webkit-scrollbar,.organs-carousel::-webkit-scrollbar{height:8px;width:8px}.cells-deck::-webkit-scrollbar-track,.organs-carousel::-webkit-scrollbar-track{background:rgba(10,10,15,.5);border-radius:4px}.cells-deck::-webkit-scrollbar-thumb,.organs-carousel::-webkit-scrollbar-thumb{background:var(--franken-copper);border-radius:4px;border:1px solid var(--franken-brass)}.cells-deck::-webkit-scrollbar-thumb:hover,.organs-carousel::-webkit-scrollbar-thumb:hover{background:var(--franken-brass)}.attributes-bars::-webkit-scrollbar,.being-attributes::-webkit-scrollbar,.being-display::-webkit-scrollbar,.mission-selector::-webkit-scrollbar,.missions-grid::-webkit-scrollbar,.pieces-deck::-webkit-scrollbar,.pieces-grid::-webkit-scrollbar,.validation-results::-webkit-scrollbar{width:8px;height:8px}.attributes-bars::-webkit-scrollbar-track,.being-attributes::-webkit-scrollbar-track,.being-display::-webkit-scrollbar-track,.mission-selector::-webkit-scrollbar-track,.missions-grid::-webkit-scrollbar-track,.pieces-deck::-webkit-scrollbar-track,.pieces-grid::-webkit-scrollbar-track,.validation-results::-webkit-scrollbar-track{background:rgba(10,10,15,.5);border-radius:4px}.attributes-bars::-webkit-scrollbar-thumb,.being-attributes::-webkit-scrollbar-thumb,.being-display::-webkit-scrollbar-thumb,.mission-selector::-webkit-scrollbar-thumb,.missions-grid::-webkit-scrollbar-thumb,.pieces-deck::-webkit-scrollbar-thumb,.pieces-grid::-webkit-scrollbar-thumb,.validation-results::-webkit-scrollbar-thumb{background:var(--franken-copper);border-radius:4px;border:1px solid var(--franken-brass)}.attributes-bars::-webkit-scrollbar-thumb:hover,.being-attributes::-webkit-scrollbar-thumb:hover,.being-display::-webkit-scrollbar-thumb:hover,.mission-selector::-webkit-scrollbar-thumb:hover,.missions-grid::-webkit-scrollbar-thumb:hover,.pieces-deck::-webkit-scrollbar-thumb:hover,.pieces-grid::-webkit-scrollbar-thumb:hover,.validation-results::-webkit-scrollbar-thumb:hover{background:var(--franken-brass)}@media (max-width:1024px){.missions-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.attributes-bars{grid-template-columns:1fr;max-height:none}.being-display,.pieces-deck{grid-column:1}.mission-selector{max-height:220px}}@media (max-width:768px){.lab-title{font-size:1.3rem}.lab-subtitle{font-size:.7rem}.lab-workspace{padding:.35rem;gap:.35rem;height:auto;min-height:calc(100vh - 80px);grid-template-columns:1fr!important;grid-template-rows:auto auto 1fr!important}.being-display,.mission-selector,.pieces-deck{grid-column:1!important;width:100%!important}.missions-grid{grid-template-columns:1fr}.mission-selector{max-height:180px}.mission-card{padding:.5rem}.mission-icon{font-size:2rem}.mission-name{font-size:.9rem}.lab-controls{flex-direction:row;flex-wrap:wrap;gap:.35rem}.lab-button{flex:1 1 auto;min-width:100px;padding:.5rem .75rem;font-size:.75rem}.being-display{padding:.5rem;padding-top:120px}.being-info{padding:.5rem}.being-name{font-size:1.2rem}.book-tree-header{padding:1rem;min-height:auto;grid-template-columns:auto 1fr;gap:.75rem}.book-tree-icon{width:48px;height:48px;font-size:2rem}.book-tree-title-text{font-size:1rem}.book-tree-subtitle{font-size:.8rem}.book-tree-stats{grid-column:1/-1;flex-direction:row;justify-content:space-between;margin-top:.5rem}.book-tree-attributes{padding:.75rem 1rem}.book-tree-header{display:grid;grid-template-columns:auto minmax(0,1fr);align-items:center}.piece-card{padding:.85rem 1rem;min-height:65px}.attributes-bars{grid-template-columns:1fr;max-height:300px}.book-tree-title{font-size:.95rem}.book-tree-header,.chapter-tree-header{padding:.75rem;gap:.5rem}.book-tree-stats,.chapter-tree-stats{flex-direction:column;align-items:flex-end;gap:.25rem}.book-tree-attributes,.chapter-tree-attributes{padding:.5rem;gap:.3rem}.tree-attribute{font-size:.75rem;padding:.2rem .5rem}.chapter-tree-item{margin-left:.5rem}.chapter-tree-title{font-size:.85rem}.chapter-pieces{margin-left:.5rem}.piece-card{flex-wrap:wrap;gap:.5rem;padding:.75rem}.piece-title{width:100%;order:3;font-size:.9rem}.piece-attributes-preview{order:4;width:100%}.piece-power{order:5}.scoring-legend{flex-direction:column;gap:.5rem;padding:.5rem}.pieces-filters{flex-direction:column;align-items:stretch}.filter-buttons-group{justify-content:center}.filter-btn{font-size:.85rem;padding:.5rem .75rem}.book-tree-item.expanded{padding-top:60px}.book-tree-item.expanded .book-tree-header{padding:.6rem 1rem;min-height:60px}.book-tree-item.expanded .book-tree-icon{width:44px;height:44px;font-size:1.8rem}.book-tree-item.expanded .book-tree-title-text{font-size:1rem}}@media (max-width:480px){.lab-header{padding:.4rem .5rem}.lab-title{font-size:1.1rem}.lab-subtitle{display:none}.lab-workspace{height:auto;min-height:calc(100vh - 60px);padding:.25rem;gap:.25rem}.mission-selector{padding:.5rem;max-height:150px}.mission-selector-title{font-size:.9rem}.missions-grid{grid-template-columns:1fr;gap:.35rem}.mission-card{padding:.5rem}.mission-icon{font-size:2rem}.mission-name{font-size:.9rem}.mission-description{font-size:.75rem}.being-display{padding:.5rem;padding-top:100px}.being-info{padding:.5rem}.being-name{font-size:1.3rem}.being-mission{font-size:.85rem}.attributes-title{font-size:1rem}.attributes-bars{max-height:250px}.attribute-bar{padding:.4rem}.book-tree-header{padding:.6rem;flex-wrap:wrap}.book-tree-title{font-size:.9rem;flex-basis:100%;order:2}.book-tree-icon,.book-tree-toggle{order:1}.book-tree-stats{order:3;margin-top:.25rem}.book-tree-attributes{padding:.4rem;gap:.25rem}.tree-attribute{font-size:.7rem;padding:.2rem .4rem}.chapter-tree-header{padding:.5rem;flex-wrap:wrap}.chapter-tree-title{font-size:.8rem;flex-basis:100%;order:2}.chapter-tree-icon,.chapter-tree-toggle{order:1}.chapter-tree-stats{order:3;margin-top:.25rem}.chapter-tree-item{margin-left:.25rem}.chapter-pieces{margin-left:.25rem}.piece-card{padding:.6rem}.piece-title{font-size:.85rem}.piece-type-badge{font-size:.7rem}.pieces-deck{padding:1rem}.filter-btn{font-size:.8rem;padding:.4rem .6rem}.scoring-legend{font-size:.75rem}.book-tree-header,.chapter-tree-header{padding:.75rem .5rem}.book-tree-title,.chapter-tree-title{font-size:.9rem}.piece-icon{font-size:1.2rem}.piece-title{font-size:.85rem}.book-tree-item.expanded{padding-top:50px}.book-tree-item.expanded .book-tree-header{padding:.5rem .75rem;min-height:50px}.book-tree-item.expanded .book-tree-icon{width:36px;height:36px;font-size:1.5rem}.book-tree-item.expanded .book-tree-title-text{font-size:.95rem}.book-tree-item.expanded .book-tree-subtitle{display:none}.book-tree-item.expanded .book-tree-toggle{font-size:1.2rem}.book-tree-item.expanded .book-tree-toggle::before{font-size:1.3rem}.book-tree-item.expanded .book-tree-content{padding:.5rem;padding-bottom:1rem}}@media (max-width:900px){.book-tree-header{flex-direction:column;align-items:flex-start}.book-tree-stats{justify-content:space-between;align-items:stretch;width:100%}.book-tree-attributes{flex-wrap:wrap;gap:.4rem}.book-tree-content{padding:.4rem}.mobile-chapter-block summary{display:flex;justify-content:space-between;align-items:center;gap:.5rem;padding:.35rem .5rem}.mobile-chapter-title{font-size:1rem}.mobile-chapter-meta{font-size:.75rem;opacity:.8}.mobile-chapter-pieces{padding:0 .5rem .5rem;display:flex;flex-direction:column;gap:.5rem}.mobile-piece-card{flex-direction:column;gap:.35rem;border-radius:12px;padding:.8rem}.mobile-piece-main{align-items:flex-start;gap:.75rem}.mobile-piece-info h5{font-size:1rem}.mobile-piece-action{align-self:flex-end;padding:.4rem .75rem;font-size:.75rem}.being-display{flex-direction:column}.being-panels{gap:.5rem}.vitruvian-popup{max-width:calc(100% - 2rem);max-height:70vh;right:1rem;left:1rem;padding:.75rem}.vitruvian-popup-being{min-height:150px}.vitruvian-popup-attributes{justify-content:center}}.mission-selector{grid-column:1/-1;background:linear-gradient(135deg,rgba(139,115,85,.2) 0,rgba(74,35,90,.2) 100%),var(--paper-texture);border:4px solid var(--franken-brass);border-radius:12px;padding:1rem;box-shadow:var(--shadow-deep);position:relative;max-height:180px;overflow-y:auto;flex-shrink:0}.mission-selector::before{content:'üéØ';position:absolute;top:.5rem;right:.5rem;font-size:2rem;opacity:.15;pointer-events:none}.mission-selector-title{text-align:center;font-size:1.2rem;font-weight:700;color:var(--franken-brass);margin-bottom:.75rem;font-family:Cinzel,serif;letter-spacing:.1em}.missions-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem}.mission-card{background:linear-gradient(135deg,var(--franken-parchment) 0,#e8dcc4 100%),var(--paper-texture);border:2px solid var(--franken-copper);border-radius:8px;padding:.75rem;cursor:pointer;transition:all .3s ease;position:relative;text-align:center}.mission-card::before{content:'';position:absolute;inset:6px;border:1px solid rgba(139,115,85,.3);border-radius:6px;pointer-events:none}.mission-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-deep),0 0 20px rgba(212,175,55,.3);border-color:var(--franken-brass)}.mission-card.selected{border-color:var(--franken-brass);background:linear-gradient(135deg,#fff9e6 0,#f0e5c8 100%);box-shadow:var(--glow-lightning)}.mission-icon{font-size:2rem;margin-bottom:.35rem}.mission-name{font-size:.9rem;font-weight:700;color:var(--franken-dark);margin:.35rem 0;font-family:Cinzel,serif}.mission-description{font-size:.75rem;color:var(--franken-sepia);line-height:1.3;margin-bottom:.35rem}.mission-difficulty{display:inline-block;padding:.2rem .6rem;background:var(--franken-purple);color:var(--franken-parchment);border-radius:8px;font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.change-mission-btn{margin-top:.75rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,var(--franken-brass) 0,#b87333 100%);color:#1e1e2e;border:2px solid var(--franken-brass);border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;font-family:Cinzel,serif;display:flex;align-items:center;justify-content:center;gap:.5rem;box-shadow:0 4px 12px rgba(212,175,55,.3)}.change-mission-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(212,175,55,.5);background:linear-gradient(135deg,gold 0,var(--franken-brass) 100%)}.change-mission-btn:active{transform:translateY(0);box-shadow:0 2px 8px rgba(212,175,55,.3)}.mission-modal{position:fixed;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center;padding:1rem;opacity:0;pointer-events:none;transition:opacity .3s ease}.mission-modal.active{opacity:1;pointer-events:all}.mission-modal-overlay{position:absolute;inset:0;background:rgba(0,0,0,.85);backdrop-filter:blur(8px)}.mission-modal-content{position:relative;background:linear-gradient(135deg,#1e1e2e 0,#2d2d44 100%);border:3px solid var(--franken-brass);border-radius:16px;max-width:900px;width:100%;max-height:85vh;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.9);animation:modalSlideUp .4s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column}@keyframes modalSlideUp{from{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.mission-modal-header{padding:.875rem 1.25rem;border-bottom:2px solid rgba(212,175,55,.3);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;background:linear-gradient(135deg,rgba(212,175,55,.1) 0,rgba(139,115,85,.1) 100%)}.mission-modal-title{margin:0;color:var(--franken-brass);font-family:Cinzel,serif;font-size:1.25rem;font-weight:700;letter-spacing:.08em}.mission-modal-close{background:0 0;border:none;color:var(--franken-parchment);cursor:pointer;padding:.5rem;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.mission-modal-close:hover{background:rgba(212,175,55,.2);color:var(--franken-brass)}.mission-modal-body{padding:1rem 1.25rem;overflow-y:auto;flex:1}.mission-modal-body .missions-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}.mission-modal-body .mission-card{padding:1.25rem;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center}.mission-modal-body .mission-icon{font-size:3rem;margin-bottom:.75rem}.mission-modal-body .mission-name{font-size:1.1rem;margin:.5rem 0}.mission-modal-body .mission-description{font-size:.85rem;margin-bottom:.75rem;text-align:center}@media (max-width:768px){.mission-modal-content{max-height:95vh}.mission-modal-header{padding:.75rem 1rem}.mission-modal-title{font-size:1.05rem}.mission-modal-body{padding:.75rem 1rem}.mission-modal-body .missions-grid{grid-template-columns:1fr;gap:.75rem}.change-mission-btn{font-size:.85rem;padding:.65rem 1.25rem}}@media (max-width:480px){.mission-modal-header{padding:.6rem .875rem}.mission-modal-title{font-size:.95rem;letter-spacing:.05em}.mission-modal-body{padding:.5rem .75rem}.mission-modal-body .missions-grid{gap:.5rem}.mission-modal-body .mission-card{padding:.75rem;min-height:120px}.mission-modal-body .mission-icon{font-size:2rem;margin-bottom:.5rem}.mission-modal-body .mission-name{font-size:.95rem}.mission-modal-body .mission-description{font-size:.8rem}}.fab-container{position:fixed;bottom:2rem;right:2rem;display:flex;flex-direction:column;gap:1rem;z-index:1000}.fab{position:relative;width:64px;height:64px;border-radius:50%;border:none;background:linear-gradient(135deg,var(--franken-brass) 0,#b87333 100%);color:#1e1e2e;cursor:pointer;box-shadow:0 6px 20px rgba(212,175,55,.4),0 0 0 0 rgba(212,175,55,.4);transition:all .3s cubic-bezier(.4, 0, .2, 1);display:flex;align-items:center;justify-content:center;overflow:visible}.fab:hover{transform:translateY(-4px) scale(1.05);box-shadow:0 8px 28px rgba(212,175,55,.6),0 0 0 8px rgba(212,175,55,.1)}.fab:hover .fab-label{opacity:1;transform:translateX(0);visibility:visible}.fab:active{transform:translateY(-2px) scale(1.02)}.fab-label{position:absolute;right:76px;background:rgba(30,30,45,.95);color:var(--franken-brass);padding:.5rem 1rem;border-radius:8px;font-size:.85rem;font-weight:600;white-space:nowrap;opacity:0;transform:translateX(10px);visibility:hidden;transition:all .3s ease;pointer-events:none;border:1px solid var(--franken-brass);font-family:Cinzel,serif}.fab-badge{position:absolute;top:-4px;right:-4px;min-width:24px;height:24px;background:#ff9800;color:#fff;border-radius:12px;font-size:.7rem;font-weight:700;display:flex;align-items:center;justify-content:center;padding:0 6px;border:2px solid #1e1e2e;animation:pulse 2s infinite}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}.fab-requirements{background:linear-gradient(135deg,#4caf50 0,#2e7d32 100%)}.fab-pieces{background:linear-gradient(135deg,#2196f3 0,#1565c0 100%)}@media (max-width:768px){.fab-container{bottom:1rem;right:1rem;gap:.75rem}.fab{width:56px;height:56px}.fab-label{display:none}.fab-badge{font-size:.65rem;min-width:20px;height:20px}}.pieces-modal,.requirements-modal{position:fixed;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center;padding:1rem;opacity:0;pointer-events:none;transition:opacity .3s ease}.pieces-modal.active,.requirements-modal.active{opacity:1;pointer-events:all}.pieces-modal-overlay,.requirements-modal-overlay{position:absolute;inset:0;background:rgba(0,0,0,.85);backdrop-filter:blur(8px)}.pieces-modal-content,.requirements-modal-content{position:relative;background:linear-gradient(135deg,#1e1e2e 0,#2d2d44 100%);border:3px solid var(--franken-brass);border-radius:16px;width:min(1200px,calc(100vw - 2rem));height:min(90vh,calc(100vh - 2rem));overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.9);animation:modalSlideUp .4s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column}.requirements-sticky-header{position:sticky;top:0;z-index:1000;background:linear-gradient(135deg,rgba(30,30,45,.98) 0,rgba(20,20,35,.98) 100%);border-bottom:2px solid rgba(212,175,55,.4);padding:.5rem 1rem;display:none;align-items:center;justify-content:space-between;gap:.75rem;backdrop-filter:blur(10px);box-shadow:0 4px 20px rgba(0,0,0,.4);animation:slideDown .3s ease-out}.requirements-sticky-header.visible{display:flex}.sticky-requirements-compact{display:flex;align-items:center;gap:.5rem;flex:1;overflow-x:auto;scrollbar-width:none}.sticky-requirements-compact::-webkit-scrollbar{display:none}.sticky-requirement-item{display:flex;align-items:center;gap:.35rem;padding:.35rem .6rem;background:rgba(212,175,55,.1);border:1px solid rgba(212,175,55,.3);border-radius:16px;white-space:nowrap;transition:all .3s ease;font-size:.85rem}.sticky-requirement-item.fulfilled{background:rgba(76,175,80,.15);border-color:rgba(76,175,80,.4)}.sticky-requirement-icon{font-size:1rem}.sticky-requirement-percentage{font-size:.8rem;font-weight:600;color:var(--franken-brass)}.sticky-requirement-item.fulfilled .sticky-requirement-percentage{color:#4caf50}.sticky-progress-indicator{display:flex;align-items:center;gap:.4rem;padding:.35rem .75rem;background:rgba(212,175,55,.15);border-radius:16px;border:1px solid rgba(212,175,55,.3)}.sticky-progress-bar{width:80px;height:6px;background:rgba(0,0,0,.3);border-radius:3px;overflow:hidden}.sticky-progress-fill{height:100%;background:linear-gradient(90deg,#ff9800 0,#ffb74d 100%);transition:width .3s ease}.sticky-progress-fill.complete{background:linear-gradient(90deg,#4caf50 0,#66bb6a 100%)}.sticky-progress-text{font-size:.75rem;font-weight:600;color:var(--franken-brass);white-space:nowrap}.pieces-modal-header,.requirements-modal-header{padding:.875rem 1.25rem;border-bottom:2px solid rgba(212,175,55,.3);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;background:linear-gradient(135deg,rgba(76,175,80,.1) 0,rgba(46,125,50,.1) 100%)}.pieces-modal-header{background:linear-gradient(135deg,rgba(33,150,243,.1) 0,rgba(21,101,192,.1) 100%)}.pieces-modal-title,.requirements-modal-title{margin:0;color:var(--franken-brass);font-family:Cinzel,serif;font-size:1.25rem;font-weight:700;letter-spacing:.08em}.pieces-modal-close,.requirements-modal-close{background:0 0;border:none;color:var(--franken-parchment);cursor:pointer;padding:.5rem;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s}.pieces-modal-close:hover,.requirements-modal-close:hover{background:rgba(212,175,55,.2);color:var(--franken-brass)}.pieces-modal-body,.requirements-modal-body{padding:1.5rem;overflow:hidden;flex:1}.requirements-modal-body .requirements-panel{position:relative;border:none;border-radius:0;box-shadow:none;background:0 0;padding:1.5rem}.requirements-layout{display:grid;grid-template-columns:minmax(0,1.4fr) minmax(280px,1fr);gap:1.5rem;height:100%}.requirements-main{overflow-y:auto;padding-right:.5rem}.requirements-side{display:flex;flex-direction:column;gap:1rem;padding-left:.5rem;overflow-y:auto}.mission-brief-card,.mission-hints-card,.mission-meta-card,.pieces-meta-card,.pieces-tips-card{background:rgba(12,12,20,.78);border:1px solid rgba(244,233,216,.12);border-radius:18px;padding:1.2rem 1.4rem;box-shadow:0 12px 30px rgba(0,0,0,.45)}.mission-brief-card h3{margin:.4rem 0 .6rem;font-size:1.25rem;color:var(--franken-parchment)}.brief-label{font-size:.75rem;text-transform:uppercase;letter-spacing:.2em;color:rgba(244,233,216,.6)}.mission-meta-card{display:flex;flex-direction:column;gap:.75rem}.meta-row{display:flex;align-items:center;justify-content:space-between;font-size:.95rem;color:rgba(244,233,216,.85)}.meta-row strong{font-size:1rem;color:var(--franken-parchment)}.mission-meta-card .lab-button{width:100%;margin-top:.5rem}#pieces-tips-list,.mission-hints-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.75rem;font-size:.9rem;color:rgba(244,233,216,.8)}#pieces-tips-list li,.mission-hints-list li{padding:.65rem .75rem;border-radius:12px;background:rgba(255,255,255,.03);border:1px solid rgba(244,233,216,.08)}.pieces-layout{display:grid;grid-template-columns:minmax(0,1.6fr) minmax(280px,1fr);gap:1.5rem;height:100%}.pieces-main{display:flex;flex-direction:column;overflow:hidden}.pieces-main .pieces-filters{flex:1;overflow-y:auto;padding-right:.5rem}.pieces-side{display:flex;flex-direction:column;gap:1rem;padding-left:.5rem;overflow-y:auto}.pieces-meta-card h3{margin:0 0 .5rem;font-size:1.1rem;color:var(--franken-parchment)}.pieces-meta-stat{display:flex;align-items:center;justify-content:space-between;padding:.5rem 0;border-bottom:1px solid rgba(244,233,216,.08)}.pieces-meta-stat:last-child{border-bottom:none}.pieces-meta-stat strong{font-size:1.2rem;color:var(--franken-brass)}.pieces-meta-card .lab-button{width:100%;margin-top:.8rem}.pieces-tips-card h4{margin:0 0 .5rem;font-size:1rem;color:var(--franken-parchment)}.pieces-tips-card ul{margin:0}.pieces-tips-card li{border-left:2px solid rgba(244,233,216,.2);padding-left:.85rem}@media (max-width:1024px){.pieces-layout,.requirements-layout{grid-template-columns:1fr;height:auto}.pieces-side,.requirements-side{padding:0;overflow:visible}}@media (max-width:768px){.pieces-modal-content,.requirements-modal-content{width:calc(100vw - 1rem);height:calc(100vh - 1rem)}.pieces-modal-body,.requirements-modal-body{padding:1rem}}.pieces-modal-body .pieces-grid{width:100%;padding:1.5rem;position:relative;max-width:100%}.missing-requirements-quick-view{background:linear-gradient(135deg,rgba(139,115,85,.15) 0,rgba(212,175,55,.1) 100%);border:2px solid rgba(212,175,55,.3);border-radius:10px;margin:0;padding:.9rem;animation:slideDown .3s ease-out}.quick-view-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.6rem;padding-bottom:.5rem;border-bottom:1px solid rgba(212,175,55,.3)}.quick-view-icon{font-size:1.25rem}.quick-view-title{flex:1;margin:0;color:var(--franken-brass);font-family:Cinzel,serif;font-size:.95rem;font-weight:600;letter-spacing:.04em}.quick-view-status{font-weight:700;font-size:.85rem;padding:.2rem .5rem;background:rgba(0,0,0,.2);border-radius:10px;color:var(--franken-brass)}.quick-view-list{display:flex;flex-direction:column;gap:.5rem}.quick-view-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:rgba(0,0,0,.2);border:1px solid rgba(212,175,55,.2);border-radius:8px;transition:all .2s ease}.quick-view-item:hover{background:rgba(212,175,55,.15);border-color:rgba(212,175,55,.4);transform:translateX(4px)}.quick-view-item-icon{font-size:1.5rem;min-width:32px;text-align:center}.quick-view-item-content{flex:1;display:flex;flex-direction:column;gap:.25rem}.quick-view-item-text{color:var(--franken-brass);font-size:.9rem;font-weight:600}.quick-view-item-count{color:var(--franken-brass);font-size:.8rem;font-weight:600}.quick-view-filter-btn{background:rgba(212,175,55,.2);border:1px solid rgba(212,175,55,.3);border-radius:6px;padding:.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--franken-brass)}.quick-view-filter-btn:hover{background:rgba(212,175,55,.3);border-color:rgba(212,175,55,.5);transform:scale(1.1)}.quick-view-filter-btn svg{width:16px;height:16px}.quick-view-complete{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1.5rem;background:linear-gradient(135deg,rgba(76,175,80,.2) 0,rgba(46,125,50,.2) 100%);border:2px solid #4caf50;border-radius:8px}.complete-icon{font-size:2rem;animation:bounce 1s ease infinite}@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}.complete-text{color:#4caf50;font-weight:700;font-size:1rem;font-family:Cinzel,serif}.quick-view-no-mission{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;padding:2rem;text-align:center}.no-mission-icon{font-size:3rem;opacity:.5}.no-mission-text{color:var(--franken-brass);font-weight:600;font-size:1rem;font-family:Cinzel,serif}.no-mission-btn{background:linear-gradient(135deg,var(--franken-brass) 0,#b87333 100%);color:#1e1e2e;border:none;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;font-family:Cinzel,serif}.no-mission-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(212,175,55,.4)}@media (max-width:768px){.missing-requirements-quick-view{margin:1rem;padding:1rem}.quick-view-title{font-size:1rem}.quick-view-item{padding:.65rem}.quick-view-item-icon{font-size:1.25rem;min-width:28px}.quick-view-item-text{font-size:.85rem}.quick-view-item-count{font-size:.75rem}.quick-view-filter-btn{padding:.4rem}.complete-icon{font-size:1.5rem}.complete-text{font-size:.9rem}}@media (max-width:768px){.pieces-modal-content,.requirements-modal-content{max-height:95vh;max-width:100%}.pieces-modal-header,.requirements-modal-header{padding:.75rem 1rem}.pieces-modal-title,.requirements-modal-title{font-size:1.05rem}.requirements-modal-body .requirements-panel{padding:.75rem}.pieces-modal-body .bottom-sheet-content{padding:.75rem}}@media (max-width:480px){.pieces-modal-header,.requirements-modal-header{padding:.6rem .875rem}.pieces-modal-title,.requirements-modal-title{font-size:.95rem;letter-spacing:.05em}.requirements-modal-body .requirements-panel{padding:.5rem}.pieces-modal-body .bottom-sheet-content{padding:.5rem}}.being-display{grid-column:1;background:0 0;border:3px solid var(--franken-copper);border-radius:10px;padding:1rem;padding-top:150px;box-shadow:var(--shadow-deep);position:relative;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:0;max-height:100%;overflow-y:auto;overflow-x:hidden}.being-display::before{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:min(400px,80%);height:min(400px,80%);border:2px dashed var(--franken-copper);border-radius:50%;opacity:.3;pointer-events:none}.being-display::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:min(280px,56%);height:min(280px,56%);border:2px dashed var(--franken-brass);opacity:.2;pointer-events:none}.being-attributes::before{content:'‚äï';position:absolute;top:-.5rem;left:50%;transform:translateX(-50%);font-size:1rem;color:var(--franken-brass);opacity:.4;z-index:1}.being-balance::before{content:'~';position:absolute;left:-.5rem;top:50%;transform:translateY(-50%) rotate(-90deg);font-size:1.5rem;color:var(--franken-copper);opacity:.3}.being-balance::after{content:'~';position:absolute;right:-.5rem;top:50%;transform:translateY(-50%) rotate(90deg);font-size:1.5rem;color:var(--franken-copper);opacity:.3}.being-info{text-align:center;margin-bottom:.75rem;padding:.75rem;background:linear-gradient(135deg,rgba(139,115,85,.2) 0,rgba(74,35,90,.1) 100%);border:2px solid var(--franken-copper);border-radius:8px;position:relative;z-index:2;flex-shrink:0}.being-info::before{content:'‚à¥';position:absolute;top:.5rem;left:50%;transform:translateX(-50%);font-size:1.5rem;color:var(--franken-brass);opacity:.5}.being-name{font-size:1.4rem;font-weight:700;color:var(--franken-brass);margin:0;font-family:Cinzel,serif;text-shadow:0 2px 4px rgba(0,0,0,.5)}.being-mission{font-size:.9rem;color:var(--franken-parchment);margin-top:.25rem;font-style:italic;font-family:'Crimson Text',serif}.being-attributes{display:none;margin-bottom:1rem;position:relative;z-index:2}.attributes-title{font-size:1.2rem;font-weight:700;color:var(--franken-brass);margin-bottom:1rem;text-align:center;font-family:Cinzel,serif;text-transform:uppercase;letter-spacing:.15em;position:relative}.attributes-title::after,.attributes-title::before{content:'‚öõ';position:absolute;top:50%;transform:translateY(-50%);font-size:1rem;color:var(--franken-brass);opacity:.5}.attributes-title::before{left:0}.attributes-title::after{right:0}.attributes-bars{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:.5rem;max-height:400px;overflow-y:auto;padding-right:.5rem}.attribute-bar{background:linear-gradient(90deg,rgba(139,115,85,.15) 0,rgba(139,115,85,.05) 100%),var(--paper-texture);border:1px solid var(--franken-copper);border-left:3px solid var(--franken-copper);border-radius:4px;padding:.5rem;transition:all .3s ease;position:relative}.attribute-bar::before{content:'';position:absolute;left:-3px;top:0;bottom:0;width:3px;background:linear-gradient(180deg,var(--franken-brass) 0,var(--franken-copper) 100%);opacity:0;transition:opacity .3s ease}.attribute-bar:hover::before{opacity:1}.attribute-bar[data-status=met]{border-left-color:var(--franken-brass);background:linear-gradient(90deg,rgba(212,175,55,.2) 0,rgba(212,175,55,.05) 100%),var(--paper-texture);box-shadow:0 0 10px rgba(212,175,55,.2)}.attribute-label{display:flex;align-items:center;gap:.5rem;margin-bottom:.25rem}.attribute-icon{font-size:1.2rem}.attribute-name{flex:1;font-weight:600;color:var(--franken-parchment)}.attribute-value{font-weight:700;color:var(--franken-brass);font-family:monospace}.attribute-progress{width:100%;height:8px;background:rgba(10,10,15,.5);border-radius:4px;overflow:hidden}.attribute-fill{height:100%;transition:width .5s ease;border-radius:4px}.being-balance{display:none;margin-bottom:1.5rem;padding:1rem;background:rgba(139,115,85,.1);border:2px solid var(--franken-copper);border-radius:8px}.balance-title{font-size:1.2rem;font-weight:700;color:var(--franken-brass);margin-bottom:1rem;text-align:center;font-family:Cinzel,serif}.balance-categories{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.75rem;margin-bottom:1rem}.balance-item{display:flex;flex-direction:column;align-items:center;gap:.25rem}.balance-label{font-size:.85rem;color:var(--franken-sepia)}.balance-value{font-size:1.5rem;font-weight:700;color:var(--franken-brass);font-family:monospace}.balance-harmony{display:flex;align-items:center;gap:1rem;margin-bottom:.5rem;color:var(--franken-parchment)}.harmony-bar{flex:1;height:12px;background:rgba(10,10,15,.5);border-radius:6px;overflow:hidden}.harmony-fill{height:100%;background:linear-gradient(90deg,#ef4444 0,#f59e0b 50%,#10b981 100%);transition:width .5s ease;border-radius:6px}.balance-total{text-align:center;font-size:1.1rem;font-weight:700;color:var(--franken-brass);margin:.5rem 0 0 0}.pieces-deck{grid-column:2;background:linear-gradient(135deg,rgba(139,115,85,.2) 0,rgba(74,35,90,.2) 100%),var(--paper-texture);border:4px solid var(--franken-copper);border-radius:12px;padding:1.5rem;box-shadow:var(--shadow-deep);position:relative;display:flex;flex-direction:column;min-height:0;overflow-y:auto}.pieces-deck::before{content:'üß™';position:absolute;top:.5rem;right:.5rem;font-size:2rem;opacity:.15;pointer-events:none}.pieces-deck::after{content:'‚öóÔ∏è';position:absolute;bottom:.5rem;left:.5rem;font-size:2rem;opacity:.15;pointer-events:none}.pieces-filters{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap;justify-content:space-between;align-items:center;flex-shrink:0}.filter-buttons-group{display:flex;gap:.5rem;flex-wrap:wrap}.scoring-legend{display:flex;gap:1rem;align-items:center;padding:.5rem 1rem;background:linear-gradient(135deg,rgba(139,115,85,.3) 0,rgba(74,35,90,.2) 100%);border:2px solid var(--franken-copper);border-radius:8px;font-size:.8rem}.scoring-item{display:flex;align-items:center;gap:.25rem;color:var(--franken-parchment)}.scoring-icon{font-size:1rem}.scoring-label{font-weight:600}.scoring-value{color:var(--franken-brass);font-weight:700;font-family:monospace}.filter-btn{padding:.5rem 1rem;background:rgba(139,115,85,.3);border:2px solid var(--franken-copper);border-radius:8px;color:var(--franken-parchment);font-weight:600;cursor:pointer;transition:all .3s ease;font-family:'Crimson Text',serif}.filter-btn:hover{background:rgba(184,115,51,.5);border-color:var(--franken-brass)}.filter-btn.active{background:var(--franken-brass);color:var(--franken-dark);box-shadow:0 0 15px rgba(212,175,55,.5)}.pieces-grid{display:flex;flex-direction:column;gap:.75rem;transition:all .3s ease;position:relative;width:100%}.pieces-grid.has-expanded-book{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999;background:rgba(10,10,20,.95);display:flex;flex-direction:column;padding:0;margin:0;gap:0}body.book-expanded .requirements-sticky-header.visible{position:fixed;top:0;left:0;right:0;z-index:10002;display:flex;margin:0;border-radius:0}.book-tree-item{width:100%;background:linear-gradient(145deg,rgba(30,30,45,.95) 0,rgba(20,20,35,.98) 100%);border:2px solid rgba(212,175,55,.3);border-radius:16px;overflow:visible;box-shadow:0 8px 32px rgba(0,0,0,.4),inset 0 1px 0 rgba(255,255,255,.1);position:relative;animation:page-turn .6s ease-out;animation-fill-mode:both;flex-shrink:0;backdrop-filter:blur(10px);transition:all .4s cubic-bezier(.4, 0, .2, 1)}.book-tree-item.expanded{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;display:flex;flex-direction:column;background:linear-gradient(145deg,rgba(20,20,35,.98) 0,rgba(15,15,25,.99) 100%);height:100vh;width:100%;z-index:10000;padding-top:80px}.book-tree-item.expanded .book-tree-content{flex:1;overflow-y:auto;overflow-x:hidden;padding:1rem;padding-bottom:2rem;max-height:none!important;display:block!important}.book-tree-item.expanded .book-chapters{display:flex;flex-direction:column;gap:.5rem;padding:0 1rem}.pieces-grid.has-expanded-book .book-tree-item:not(.expanded){display:none}body.book-expanded .missing-requirements-quick-view{display:none!important}.book-tree-item.expanded .book-tree-header{position:relative;z-index:1;background:linear-gradient(135deg,rgba(30,30,45,.98) 0,rgba(20,20,35,.98) 100%);backdrop-filter:blur(10px);border-bottom:2px solid rgba(212,175,55,.3);padding:1rem 1.5rem;cursor:pointer;flex-shrink:0}.book-tree-item.expanded .book-tree-header:hover{background:linear-gradient(135deg,rgba(40,40,55,.98) 0,rgba(30,30,45,.98) 100%)}.book-tree-item.expanded .book-tree-toggle{font-size:1.5rem;transform:rotate(90deg)}.book-tree-item.expanded .book-tree-toggle::before{content:'‚úï';position:absolute;font-size:1.8rem;color:var(--franken-brass);animation:pulse 2s ease-in-out infinite}.book-tree-item.expanded .book-tree-toggle{position:relative;color:transparent}.book-tree-item:not(.expanded):hover{transform:translateY(-4px);border-color:rgba(212,175,55,.6);box-shadow:0 12px 48px rgba(0,0,0,.5),0 0 40px rgba(212,175,55,.2),inset 0 1px 0 rgba(255,255,255,.15)}.book-tree-item::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,transparent,var(--franken-brass),transparent);border-radius:16px 16px 0 0;opacity:0;transition:opacity .3s ease}.book-tree-item:hover::before{opacity:1}.book-tree-header{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:1rem;padding:1.25rem 1.5rem;min-height:80px;cursor:pointer;transition:all .3s ease;background:rgba(255,255,255,.02);border-bottom:1px solid rgba(212,175,55,.1);position:relative;z-index:1}.book-tree-leading{display:flex;align-items:center;gap:1rem}.book-tree-header:hover{background:rgba(255,255,255,.05)}.book-tree-header.open{background:linear-gradient(90deg,rgba(212,175,55,.15) 0,rgba(212,175,55,.05) 100%);border-bottom-color:rgba(212,175,55,.4)}.book-tree-toggle{font-size:1rem;color:var(--franken-brass);transition:transform .3s ease;font-weight:700}.book-tree-toggle.open{transform:rotate(90deg)}.book-tree-icon{font-size:2.5rem;width:56px;height:56px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(212,175,55,.2) 0,rgba(139,115,85,.2) 100%);border-radius:12px;border:2px solid rgba(212,175,55,.3);filter:drop-shadow(0 4px 8px rgba(0, 0, 0, .3));transition:all .3s ease}.book-tree-header:hover .book-tree-icon{transform:scale(1.1) rotate(5deg);border-color:rgba(212,175,55,.6);box-shadow:0 0 20px rgba(212,175,55,.4)}.book-tree-title{display:flex;flex-direction:column;gap:.5rem;min-width:0}.book-tree-title-text{font-weight:700;font-size:1.1rem;color:var(--franken-brass);font-family:Cinzel,serif;line-height:1.3;text-shadow:0 2px 4px rgba(0,0,0,.5);letter-spacing:.5px}.book-tree-subtitle{font-size:.85rem;color:rgba(244,233,216,.7);font-weight:400;font-family:'Crimson Text',serif}.book-tree-stats,.chapter-tree-stats{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem;flex-shrink:0}.book-tree-count,.chapter-tree-count{display:flex;align-items:center;gap:.5rem;background:rgba(212,175,55,.15);color:var(--franken-brass);padding:.4rem .9rem;border-radius:20px;font-size:.9rem;font-weight:600;border:1px solid rgba(212,175,55,.3);backdrop-filter:blur(10px);transition:all .3s ease}.book-tree-count:hover,.chapter-tree-count:hover{background:rgba(212,175,55,.25);border-color:rgba(212,175,55,.5);transform:translateX(-4px)}.book-tree-power,.chapter-tree-power{display:flex;align-items:center;gap:.5rem;background:linear-gradient(135deg,rgba(255,215,0,.2) 0,rgba(255,237,78,.2) 100%);color:gold;padding:.4rem .9rem;border-radius:20px;font-size:.95rem;font-weight:700;border:1px solid rgba(255,215,0,.3);box-shadow:0 0 20px rgba(255,215,0,.2);backdrop-filter:blur(10px);animation:pulse-glow 2s ease-in-out infinite;transition:all .3s ease}.book-tree-power:hover,.chapter-tree-power:hover{background:linear-gradient(135deg,rgba(255,215,0,.3) 0,rgba(255,237,78,.3) 100%);box-shadow:0 0 30px rgba(255,215,0,.4);transform:translateX(-4px)}@media (max-width:768px){.book-card-mobile{background:rgba(17,14,22,.85);border:1px solid rgba(244,233,216,.1);border-radius:18px;padding:1rem 1.1rem;display:flex;flex-direction:column;gap:.75rem;box-shadow:0 8px 24px rgba(0,0,0,.45)}.book-card-top{display:flex;align-items:center;gap:.75rem}.book-card-icon{width:48px;height:48px;border-radius:14px;border:1px solid rgba(212,175,55,.4);background:rgba(212,175,55,.15);display:flex;align-items:center;justify-content:center;font-size:1.5rem}.book-card-info h4{margin:0;font-size:1rem;color:var(--franken-parchment)}.book-card-info p{margin:0;font-size:.8rem;color:rgba(244,233,216,.7)}.book-card-open{margin-left:auto;padding:.45rem .9rem;border-radius:999px;border:none;font-weight:600;color:var(--franken-dark);background:linear-gradient(135deg,var(--franken-brass),var(--franken-copper))}.book-card-stats{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.5rem}.book-card-stat{padding:.6rem .75rem;border-radius:12px;border:1px solid rgba(244,233,216,.08);background:rgba(255,255,255,.02)}.book-card-stat span{font-size:.7rem;color:rgba(244,233,216,.6)}.book-card-stat strong{display:block;margin-top:.2rem;font-size:1rem;color:var(--franken-parchment)}.book-card-attributes-scroll{display:flex;gap:.5rem;overflow-x:auto;padding-bottom:.25rem}.book-card-attr{white-space:nowrap;border-radius:999px;border:1px solid rgba(244,233,216,.15);padding:.25rem .75rem;font-size:.75rem;color:var(--franken-parchment)}.book-card-attr.muted{opacity:.6}}@media (min-width:769px){.book-card-mobile{display:none}}.book-bottom-sheet{position:fixed;inset:0;z-index:10050;pointer-events:none;transition:opacity .25s ease}.book-bottom-sheet-overlay{position:absolute;inset:0;background:rgba(8,8,12,.75);opacity:0;transition:opacity .25s ease}.book-bottom-sheet-content{position:absolute;left:0;right:0;bottom:0;border-top-left-radius:24px;border-top-right-radius:24px;border:1px solid rgba(244,233,216,.12);background:linear-gradient(180deg,rgba(17,14,22,.95) 0,rgba(9,6,12,.98) 100%);transform:translateY(110%);transition:transform .35s cubic-bezier(.4, 0, .2, 1);max-height:90vh;display:flex;flex-direction:column;padding-bottom:env(safe-area-inset-bottom,16px)}.book-bottom-sheet.open{pointer-events:auto}.book-bottom-sheet.open .book-bottom-sheet-overlay{opacity:1}.book-bottom-sheet.open .book-bottom-sheet-content{transform:translateY(0)}.book-bottom-sheet-header{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;border-bottom:1px solid rgba(244,233,216,.08)}.book-bottom-sheet-header h3{margin:0;font-size:1.2rem;color:var(--franken-parchment)}.book-bottom-sheet-header .sheet-label{margin:0;font-size:.7rem;letter-spacing:.2em;text-transform:uppercase;color:rgba(244,233,216,.5)}.book-bottom-sheet-header .sheet-close{background:0 0;border:none;color:var(--franken-parchment);font-size:1.25rem;padding:.25rem}.book-bottom-sheet-body{overflow-y:auto;padding:1rem 1.25rem 2rem;display:flex;flex-direction:column;gap:.75rem}.book-bottom-sheet-toolbar{padding:0 1.25rem .75rem;display:flex;flex-direction:column;gap:.75rem;border-bottom:1px solid rgba(244,233,216,.05)}.mobile-filter-chips{display:flex;gap:.5rem;overflow-x:auto}.mobile-filter-chips::-webkit-scrollbar{display:none}.mobile-filter-chip{border:1px solid rgba(244,233,216,.2);background:rgba(14,12,21,.8);color:var(--franken-parchment);border-radius:999px;padding:.35rem .9rem;font-size:.78rem;letter-spacing:.05em;text-transform:uppercase;cursor:pointer;transition:all .2s ease}.mobile-filter-chip.active{border-color:var(--franken-brass);background:rgba(212,175,55,.15);color:var(--franken-brass)}.mobile-search-wrapper{position:relative}.mobile-search-wrapper input{width:100%;border-radius:999px;border:1px solid rgba(244,233,216,.15);background:rgba(0,0,0,.3);padding:.5rem 2.5rem .5rem 1rem;color:var(--franken-parchment);font-size:.85rem}.mobile-search-wrapper input::placeholder{color:rgba(244,233,216,.4)}.mobile-search-wrapper .mobile-search-icon{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);font-size:.95rem;color:rgba(244,233,216,.5)}.mobile-chapter-block{border-radius:14px;border:1px solid rgba(244,233,216,.1);background:rgba(255,255,255,.02);overflow:hidden}.mobile-chapter-block summary{list-style:none;display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.9rem 1rem;cursor:pointer}.mobile-chapter-block summary>div{display:flex;flex-direction:column;gap:.15rem;flex:1;min-width:0}.mobile-chapter-block summary::-webkit-details-marker{display:none}.mobile-chapter-title{margin:0;font-size:.95rem;color:var(--franken-parchment);line-height:1.2}.mobile-chapter-meta{font-size:.75rem;color:rgba(244,233,216,.6);white-space:nowrap}.mobile-chapter-chevron{font-size:1rem;color:rgba(244,233,216,.6);transition:transform .2s ease}.mobile-chapter-block[open] .mobile-chapter-chevron{transform:rotate(180deg)}.mobile-chapter-pieces{padding:0 1rem 1rem;display:flex;flex-direction:column;gap:.75rem}.mobile-empty-state{padding:1rem;font-size:.85rem;color:rgba(244,233,216,.6);text-align:center;border-radius:12px;border:1px dashed rgba(244,233,216,.15)}.mobile-piece-card{border-radius:14px;border:1px solid rgba(244,233,216,.08);background:rgba(10,8,12,.9);padding:.75rem;display:flex;flex-direction:column;gap:.5rem}.mobile-piece-card.selected{border-color:var(--franken-brass);background:rgba(212,175,55,.08)}.mobile-piece-main{display:flex;align-items:center;gap:.75rem}.mobile-piece-icon{width:44px;height:44px;border-radius:12px;background:rgba(244,233,216,.05);border:1px solid rgba(244,233,216,.1);display:flex;align-items:center;justify-content:center;font-size:1.4rem}.mobile-piece-info h5{margin:0;font-size:.95rem;color:var(--franken-parchment)}.mobile-piece-info p{margin:.1rem 0;font-size:.75rem;color:rgba(244,233,216,.6)}.mobile-piece-attrs{display:flex;gap:.4rem;flex-wrap:wrap}.mobile-piece-attr{font-size:.7rem;padding:.2rem .5rem;border-radius:999px;background:rgba(244,233,216,.08);border:1px solid rgba(244,233,216,.1)}.mobile-piece-action{margin-left:auto;padding:.3rem .9rem;font-size:.75rem}@media (max-width:768px){.book-tree-header{grid-template-columns:auto 1fr;padding:.75rem 1rem;gap:.6rem;min-height:unset}.book-tree-leading{gap:.5rem}.book-tree-icon{width:42px;height:42px;font-size:1.4rem}.book-tree-title-text{font-size:1rem}.book-tree-subtitle{font-size:.75rem}.book-tree-stats{flex-direction:row;align-items:center;justify-content:flex-start;width:100%;gap:.5rem;margin-top:.25rem}.book-tree-count,.book-tree-power{font-size:.78rem;padding:.3rem .65rem}}@media (max-width:520px){.book-tree-header{grid-template-columns:1fr}.book-tree-leading{width:100%}.book-tree-stats{flex-wrap:wrap}}.book-tree-attributes,.chapter-tree-attributes{display:flex;flex-wrap:wrap;gap:.6rem;padding:1rem 1.5rem 1.25rem 1.5rem;background:rgba(0,0,0,.2);border-top:1px solid rgba(212,175,55,.1)}.tree-attribute{display:inline-flex;align-items:center;gap:.4rem;padding:.5rem .9rem;background:rgba(212,175,55,.1);border:1px solid rgba(212,175,55,.25);border-radius:20px;font-size:.85rem;font-weight:600;color:var(--franken-brass);backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4, 0, .2, 1)}.tree-attribute:hover{background:rgba(212,175,55,.2);border-color:rgba(212,175,55,.5);transform:translateY(-2px) scale(1.05);box-shadow:0 4px 12px rgba(212,175,55,.3)}.book-tree-content{max-height:0;overflow:hidden;transition:max-height .4s ease-out}.book-tree-content.open{max-height:400px;overflow-y:auto;overflow-x:hidden;transition:max-height .4s ease-in;scroll-behavior:smooth}.book-chapters{padding:.5rem;display:flex;flex-direction:column;gap:.5rem}.chapter-tree-item{background:linear-gradient(135deg,rgba(255,255,255,.03) 0,rgba(255,255,255,.01) 100%);border-left:3px solid rgba(212,175,55,.4);border-radius:12px;overflow:visible;margin-left:.5rem;margin-bottom:.75rem;box-shadow:0 4px 12px rgba(0,0,0,.2);position:relative;transition:all .3s cubic-bezier(.4, 0, .2, 1)}.chapter-tree-item:hover{transform:translateX(4px);border-left-color:var(--franken-brass);box-shadow:0 6px 20px rgba(0,0,0,.3);background:linear-gradient(135deg,rgba(255,255,255,.05) 0,rgba(255,255,255,.02) 100%)}.chapter-tree-item::before{content:'';position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,var(--franken-brass) 0,var(--franken-copper) 100%);opacity:0;transition:opacity .3s ease}.chapter-tree-item:hover::before{opacity:1}.chapter-tree-header{display:flex;align-items:center;gap:.5rem;padding:.75rem;cursor:pointer;transition:all .2s ease}.chapter-tree-header:hover{background:rgba(184,115,51,.2)}.chapter-tree-header.open{background:rgba(212,175,55,.2);border-bottom:1px solid var(--franken-copper)}.chapter-tree-toggle{font-size:.8rem;color:var(--franken-brass);transition:transform .3s ease}.chapter-tree-toggle.open{transform:rotate(90deg)}.chapter-tree-icon{font-size:1.2rem}.chapter-tree-title{flex:1;font-weight:600;font-size:.95rem;color:var(--franken-parchment);white-space:normal;word-break:break-word;line-height:1.4;min-width:0}.chapter-tree-content{max-height:0;overflow:hidden;transition:max-height .3s ease-out}.chapter-tree-content.open{max-height:2000px;overflow-y:auto;overflow-x:hidden;transition:max-height .4s ease-in;scroll-behavior:smooth}.book-tree-item.expanded .chapter-tree-content.open{max-height:none}.chapter-pieces{padding:.5rem;display:flex;flex-direction:column;gap:.25rem;margin-left:1rem}.piece-card{background:linear-gradient(135deg,rgba(244,233,216,.95) 0,rgba(232,220,196,.98) 100%);border:2px solid rgba(139,115,85,.3);border-radius:12px;padding:1rem 1.25rem;min-height:70px;cursor:pointer;transition:all .4s cubic-bezier(.4, 0, .2, 1);position:relative;display:flex;align-items:center;gap:1rem;box-shadow:0 4px 12px rgba(0,0,0,.15),inset 0 1px 0 rgba(255,255,255,.5);margin-bottom:.75rem;overflow:hidden}.piece-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,var(--franken-brass) 0,var(--franken-copper) 100%);opacity:0;transition:opacity .3s ease}.piece-card:hover::before{opacity:1}.piece-card::after{content:'‚ö°';position:absolute;top:.25rem;right:.25rem;font-size:.75rem;opacity:.15;pointer-events:none}.piece-card:hover{transform:translateY(-4px) translateX(4px);box-shadow:0 8px 24px rgba(0,0,0,.25),0 0 30px rgba(212,175,55,.3),inset 0 1px 0 rgba(255,255,255,.7);border-color:var(--franken-brass);z-index:10}.piece-card.selected{border-color:var(--franken-brass);border-width:3px;background:linear-gradient(135deg,rgba(255,249,230,.98) 0,#f0e5c8 100%);box-shadow:0 8px 24px rgba(212,175,55,.4),0 0 40px rgba(212,175,55,.3),inset 0 1px 0 rgba(255,255,255,.8),inset 0 0 30px rgba(212,175,55,.1);transform:scale(1.02)}.piece-card.selected::before{content:'‚úì';position:absolute;top:-12px;right:-12px;width:44px;height:44px;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);border-radius:50%;border:3px solid rgba(30,30,45,.9);display:flex;align-items:center;justify-content:center;color:var(--franken-dark);font-weight:900;font-size:1.4rem;box-shadow:0 6px 20px rgba(0,0,0,.5),0 0 30px rgba(212,175,55,.7),inset 0 2px 6px rgba(255,255,255,.4);z-index:10;animation:stamp-appear .5s cubic-bezier(.68,-.55,.265,1.55)}@keyframes stamp-appear{0%{transform:scale(0) rotate(-180deg);opacity:0}70%{transform:scale(1.2) rotate(10deg)}100%{transform:scale(1) rotate(0);opacity:1}}.piece-header{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.piece-icon{font-size:1.5rem;flex-shrink:0}.piece-type-badge{padding:.25rem .5rem;background:var(--franken-purple);color:var(--franken-parchment);border-radius:8px;font-size:.65rem;font-weight:600;text-transform:uppercase;flex-shrink:0}.piece-title{font-size:.95rem;font-weight:600;color:var(--franken-dark);line-height:1.4;flex:1;word-wrap:break-word;overflow-wrap:break-word}.piece-book{display:none}.piece-attributes-preview{display:flex;gap:.25rem;flex-wrap:wrap;align-items:center}.piece-attribute{display:inline-flex;align-items:center;gap:.15rem;padding:.15rem .4rem;background:linear-gradient(135deg,rgba(139,115,85,.3) 0,rgba(74,35,90,.2) 100%);border:1px solid rgba(139,115,85,.4);border-radius:6px;font-size:.75rem;font-weight:600;color:var(--franken-parchment);cursor:help;transition:all .2s ease}.piece-attribute:hover{background:linear-gradient(135deg,rgba(139,115,85,.5) 0,rgba(74,35,90,.4) 100%);border-color:var(--franken-copper);transform:translateY(-1px)}.piece-power{font-size:.8rem;font-weight:700;color:var(--franken-brass);margin-left:auto;flex-shrink:0}.validation-results{background:rgba(10,10,15,.8);border:3px solid var(--franken-brass);border-radius:12px;padding:1.5rem;margin-top:1.5rem;box-shadow:var(--shadow-deep)}.validation-header{text-align:center;padding:1rem;border-radius:8px;margin-bottom:1rem}.validation-header.viable{background:linear-gradient(135deg,rgba(16,185,129,.3) 0,rgba(5,150,105,.3) 100%);border:2px solid #10b981}.validation-header.not-viable{background:linear-gradient(135deg,rgba(239,68,68,.3) 0,rgba(220,38,38,.3) 100%);border:2px solid #ef4444}.validation-header h3{font-size:1.8rem;font-weight:700;margin:0 0 .5rem 0;font-family:Cinzel,serif}.validation-score{font-size:1.2rem;font-weight:600;color:var(--franken-brass)}.validation-section{margin:1rem 0;padding:1rem;background:rgba(139,115,85,.1);border-left:4px solid var(--franken-copper);border-radius:4px}.validation-section h4{font-size:1.1rem;font-weight:700;color:var(--franken-brass);margin:0 0 .5rem 0;font-family:Cinzel,serif}.validation-section ul{margin:0;padding-left:1.5rem;color:var(--franken-parchment)}.validation-section li{margin:.5rem 0;line-height:1.4}.validation-message{text-align:center;font-size:1.1rem;font-weight:600;padding:1rem;border-radius:8px;margin:1rem 0}.validation-message.success{background:rgba(16,185,129,.2);color:#6ee7b7;border:2px solid #10b981}@keyframes pulse-glow{0%,100%{box-shadow:0 0 10px rgba(212,175,55,.5)}50%{box-shadow:0 0 25px rgba(212,175,55,.8),0 0 40px rgba(212,175,55,.4)}}.pulse-glow{animation:pulse-glow 2s ease-in-out infinite}.challenges-modal{position:fixed;inset:0;background:rgba(0,0,0,.9);backdrop-filter:blur(10px);z-index:1000;display:none;align-items:center;justify-content:center;padding:2rem;animation:fadeIn .3s ease}.challenges-modal.active{display:flex;position:relative}.challenges-container{max-width:900px;width:100%;max-height:90vh;background:var(--ink-stains),var(--parchment-texture),linear-gradient(135deg,#1a1a2e 0,#0a0a0f 100%);background-size:100% 100%,300px 300px,100% 100%;border:4px solid var(--franken-brass);border-radius:12px;padding:2rem;overflow-y:auto;box-shadow:var(--shadow-deep);position:relative;animation:bounce-in .5s cubic-bezier(.68,-.55,.265,1.55)}.challenges-header{text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:3px solid var(--franken-copper)}.challenges-title{font-size:2.5rem;font-weight:700;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:Cinzel,serif;margin:0 0 .5rem 0}.challenges-subtitle{font-size:1rem;color:var(--franken-sepia);font-style:italic}.challenges-progress{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:rgba(139,115,85,.1);border-radius:8px;margin-bottom:1.5rem}.progress-bar-container{flex:1;height:20px;background:rgba(10,10,15,.8);border:2px solid var(--franken-copper);border-radius:10px;overflow:hidden;margin:0 1rem}.progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--franken-brass) 0,var(--franken-lightning) 100%);transition:width .6s cubic-bezier(.68, -.55, .265, 1.55);box-shadow:0 0 15px rgba(224,247,255,.5)}.challenge-card{background:radial-gradient(ellipse at 80% 20%,rgba(139,115,85,.05) 0,transparent 40%),var(--parchment-texture),linear-gradient(135deg,rgba(244,233,216,.95) 0,rgba(232,218,200,.95) 100%);background-size:100% 100%,200px 200px,100% 100%;border:3px solid var(--franken-copper);border-radius:10px;padding:2rem;margin-bottom:1.5rem;animation:page-turn .6s ease-out}.challenge-number{display:inline-block;background:var(--franken-purple);color:var(--franken-brass);padding:.5rem 1rem;border-radius:50%;font-weight:700;font-size:1.2rem;margin-bottom:1rem;box-shadow:0 4px 8px rgba(0,0,0,.3)}.challenge-scenario{font-size:1.1rem;line-height:1.6;color:#2d2d2d;margin-bottom:1.5rem;font-weight:500}.challenge-options{display:flex;flex-direction:column;gap:1rem}.challenge-option{background:linear-gradient(135deg,rgba(255,255,255,.8) 0,rgba(244,233,216,.8) 100%);border:2px solid var(--franken-sepia);border-radius:8px;padding:1rem 1.5rem;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.challenge-option::before{content:'';position:absolute;left:0;top:0;height:100%;width:4px;background:var(--franken-copper);transform:scaleY(0);transition:transform .3s ease}.challenge-option:hover{transform:translateX(8px);border-color:var(--franken-brass);box-shadow:0 4px 12px rgba(212,175,55,.3)}.challenge-option:hover::before{transform:scaleY(1)}.challenge-option.selected{background:linear-gradient(135deg,rgba(212,175,55,.2) 0,rgba(184,115,51,.2) 100%);border-color:var(--franken-brass);border-width:3px}.challenge-option.correct{background:linear-gradient(135deg,rgba(16,185,129,.2) 0,rgba(5,150,105,.2) 100%);border-color:#10b981;animation:gentle-pulse 1s ease-in-out 2}.challenge-option.incorrect{background:linear-gradient(135deg,rgba(239,68,68,.2) 0,rgba(220,38,38,.2) 100%);border-color:#ef4444}.option-text{font-size:1rem;color:#2d2d2d;font-weight:500}.challenge-feedback{margin-top:1.5rem;padding:1.5rem;background:rgba(10,10,15,.6);border-left:4px solid var(--franken-brass);border-radius:6px;animation:bounce-in .4s ease}.feedback-item{display:flex;align-items:center;gap:.75rem;margin:.5rem 0;color:var(--franken-parchment)}.feedback-icon{font-size:1.2rem}.challenge-actions{display:flex;gap:1rem;justify-content:center;margin-top:2rem}.challenge-btn{padding:.75rem 2rem;background:linear-gradient(135deg,var(--franken-copper) 0,var(--franken-brass) 100%);color:var(--franken-parchment);border:2px solid var(--franken-brass);border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 4px 12px rgba(0,0,0,.4)}.challenge-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(212,175,55,.5)}.challenge-btn:active{transform:translateY(0)}.challenge-btn.secondary{background:rgba(139,115,85,.3);border-color:var(--franken-sepia)}.results-screen{text-align:center;padding:2rem;animation:bounce-in .8s cubic-bezier(.68,-.55,.265,1.55)}.results-rank{font-size:3rem;font-weight:700;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-lightning) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:1rem 0;font-family:Cinzel,serif;animation:float 3s ease-in-out infinite}.results-score{font-size:2rem;color:var(--franken-brass);margin:1rem 0}.results-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin:2rem 0}.stat-card{background:rgba(139,115,85,.2);border:2px solid var(--franken-copper);border-radius:8px;padding:1.5rem}.stat-label{font-size:.9rem;color:var(--franken-sepia);text-transform:uppercase;letter-spacing:.05em}.stat-value{font-size:2rem;font-weight:700;color:var(--franken-brass);margin-top:.5rem}.audio-control{position:absolute;top:1rem;right:1rem;display:flex;align-items:center;gap:.5rem}.audio-toggle{width:48px;height:48px;background:rgba(139,115,85,.3);border:2px solid var(--franken-copper);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1.5rem}.audio-toggle:hover{background:rgba(212,175,55,.3);border-color:var(--franken-brass);transform:scale(1.1)}.audio-toggle.active{background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);box-shadow:0 0 20px rgba(212,175,55,.5);animation:gentle-pulse 2s ease-in-out infinite}@media (max-width:768px){.challenges-container{padding:1rem}.challenges-title{font-size:1.8rem}.challenge-card{padding:1.5rem}.results-rank{font-size:2rem}.results-stats{grid-template-columns:1fr}}.grimoire-tooltip{position:absolute;background:radial-gradient(ellipse at 90% 10%,rgba(139,115,85,.05) 0,transparent 40%),var(--parchment-texture),linear-gradient(135deg,rgba(244,233,216,.98) 0,rgba(232,218,200,.98) 100%);background-size:100% 100%,150px 150px,100% 100%;border:2px solid var(--franken-copper);border-radius:8px;padding:.75rem 1rem;max-width:280px;font-size:.85rem;color:#2d2d2d;box-shadow:var(--shadow-deep),inset 0 1px 2px rgba(255,255,255,.3);pointer-events:none;z-index:9999;opacity:0;transform:translateY(10px);transition:opacity .3s ease,transform .3s ease;clip-path:polygon(0 0,calc(100% - 15px) 0,100% 15px,100% 100%,0 100%)}.grimoire-tooltip.visible{opacity:1;transform:translateY(0)}.grimoire-tooltip::before{content:'';position:absolute;top:0;right:0;width:15px;height:15px;background:linear-gradient(135deg,transparent 50%,rgba(139,115,85,.4) 50%);border-left:1px solid var(--franken-copper);border-bottom:1px solid var(--franken-copper)}.grimoire-tooltip::after{content:'';position:absolute;bottom:100%;left:50%;transform:translateX(-50%);border:6px solid transparent;border-bottom-color:var(--franken-copper)}.tooltip-title{font-weight:700;font-size:.95rem;color:var(--franken-purple);margin-bottom:.5rem;display:flex;align-items:center;gap:.5rem}.tooltip-icon{font-size:1.2rem}.tooltip-description{line-height:1.5;margin-bottom:.5rem}.tooltip-value{font-weight:700;color:var(--franken-brass);font-size:1rem}.power-indicator{position:absolute;top:100px;right:2rem;background:radial-gradient(ellipse at 80% 20%,rgba(139,115,85,.05) 0,transparent 40%),var(--parchment-texture),linear-gradient(135deg,rgba(26,26,46,.95) 0,rgba(10,10,15,.95) 100%);background-size:100% 100%,200px 200px,100% 100%;border:3px solid var(--franken-brass);border-radius:12px;padding:1.5rem;min-width:200px;box-shadow:var(--shadow-deep);z-index:100;animation:float 4s ease-in-out infinite}.power-indicator-title{font-size:.85rem;text-transform:uppercase;letter-spacing:.1em;color:var(--franken-sepia);margin-bottom:.75rem;text-align:center}.power-value{font-size:2.5rem;font-weight:700;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-lightning) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;font-family:Cinzel,serif;margin-bottom:.5rem;animation:gentle-pulse 2s ease-in-out infinite}.power-breakdown{font-size:.75rem;color:var(--franken-parchment);text-align:center;opacity:.8}.power-vial{position:relative;width:80%;height:120px;margin:1rem auto;background:linear-gradient(180deg,transparent 0,rgba(26,26,46,.6) 100%);border:3px solid var(--franken-brass);border-radius:40px 40px 12px 12px;overflow:hidden;box-shadow:inset 0 2px 8px rgba(0,0,0,.4)}.power-liquid{position:absolute;bottom:0;width:100%;height:0%;background:linear-gradient(180deg,rgba(224,247,255,.8) 0,rgba(212,175,55,.9) 50%,rgba(139,0,0,.7) 100%);transition:height .8s cubic-bezier(.68, -.55, .265, 1.55);box-shadow:0 -4px 20px rgba(212,175,55,.6),inset 0 0 20px rgba(255,255,255,.3)}.power-liquid::before{content:'';position:absolute;width:100%;height:100%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.4) 2px,transparent 3px),radial-gradient(circle at 60% 60%,rgba(255,255,255,.3) 3px,transparent 4px),radial-gradient(circle at 80% 40%,rgba(255,255,255,.4) 2px,transparent 3px);background-size:30px 30px,40px 40px,35px 35px;animation:bubbles-rise 4s linear infinite}@keyframes bubbles-rise{from{background-position:0 0,10px 0,5px 0}to{background-position:0 -30px,10px -40px,5px -35px}}.energy-particle{position:absolute;width:4px;height:4px;background:radial-gradient(circle,var(--franken-lightning) 0,transparent 70%);border-radius:50%;pointer-events:none;animation:particle-float 1.5s ease-out forwards}@keyframes particle-float{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--tx),var(--ty)) scale(0);opacity:0}}.piece-card[data-power=high]::after{opacity:.3;animation:gentle-pulse 2s ease-in-out infinite}.piece-card[data-power=high]{box-shadow:0 2px 4px rgba(0,0,0,.2),0 0 15px rgba(212,175,55,.4),inset 0 1px 1px rgba(255,255,255,.3)}@media (max-width:768px){.power-indicator{top:auto;bottom:1rem;right:1rem;left:1rem;min-width:auto;padding:1rem}.power-vial{height:80px}.power-value{font-size:2rem}.grimoire-tooltip{max-width:220px;font-size:.8rem;padding:.6rem .8rem}}@keyframes slide-in-right{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}.power-indicator.entering{animation:slide-in-right .6s cubic-bezier(.68,-.55,.265,1.55)}.vitruvian-container{position:relative;width:100%;max-width:500px;flex:0 1 auto;min-height:400px;margin:1rem auto;padding:1.5rem;background:0 0;border:3px solid var(--franken-brass);border-radius:12px;box-shadow:var(--shadow-deep);overflow-y:auto}.vitruvian-svg{width:100%;height:auto;filter:drop-shadow(0 0 10px rgba(212, 175, 55, .2))}.vitruvian-container::-webkit-scrollbar{width:6px}.vitruvian-container::-webkit-scrollbar-track{background:rgba(10,10,15,.5);border-radius:3px}.vitruvian-container::-webkit-scrollbar-thumb{background:var(--franken-brass);border-radius:3px}.vitruvian-container::-webkit-scrollbar-thumb:hover{background:var(--franken-copper)}.body-part.energy-pulse{animation:energy-pulse-anim .6s ease-out}@keyframes energy-pulse-anim{0%{filter:drop-shadow(0 0 0px currentColor)}50%{filter:drop-shadow(0 0 15px currentColor)}100%{filter:drop-shadow(0 0 3px currentColor)}}.body-part.fully-charged{animation:glow-pulse 2s ease-in-out infinite}@keyframes glow-pulse{0%,100%{filter:drop-shadow(0 0 5px currentColor)}50%{filter:drop-shadow(0 0 15px currentColor)}}.vitruvian-svg.completed-flash{animation:completed-flash-anim 1.5s ease-out}@keyframes completed-flash-anim{0%,100%{filter:drop-shadow(0 0 10px rgba(212, 175, 55, .2))}25%{filter:drop-shadow(0 0 30px rgba(255, 215, 0, .8)) brightness(1.5)}50%{filter:drop-shadow(0 0 40px rgba(255, 215, 0, 1)) brightness(1.8)}75%{filter:drop-shadow(0 0 30px rgba(255, 215, 0, .8)) brightness(1.5)}}.vitruvian-attributes{margin-top:1.5rem;padding:1rem;background:rgba(244,233,216,.1);border:2px solid rgba(139,115,85,.3);border-radius:12px;backdrop-filter:blur(4px)}.vitruvian-attributes-title{font-size:.95rem;font-weight:700;color:var(--franken-brass);text-align:center;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:1px}.attributes-list{display:flex;flex-direction:column;gap:.5rem}.vitruvian-attribute-item{display:flex;flex-direction:column;gap:.25rem}.attribute-info{display:flex;justify-content:space-between;align-items:center}.attribute-label{font-size:.8rem;font-weight:600;color:var(--franken-parchment)}.attribute-percent{font-size:.75rem;font-weight:700;color:var(--franken-brass)}.attribute-mini-bar{width:100%;height:5px;background:rgba(139,115,85,.2);border-radius:3px;overflow:hidden}.attribute-mini-fill{height:100%;transition:width .8s cubic-bezier(.68, -.55, .265, 1.55);border-radius:3px;position:relative}.attribute-mini-fill::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent 0,rgba(255,255,255,.4) 50%,transparent 100%);animation:shimmer-mini 2s infinite}@keyframes shimmer-mini{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}.vitruvian-attribute-item:hover{background:rgba(212,175,55,.1);border-radius:6px;padding:.25rem;margin:-.25rem}@media (max-width:768px){.vitruvian-container{max-width:280px;padding:.75rem;margin:.75rem auto}.vitruvian-attributes{padding:.5rem;margin-top:.75rem}.vitruvian-attributes-title{font-size:.85rem;margin-bottom:.5rem}.attributes-list{gap:.4rem}.attribute-label{font-size:.75rem}.attribute-percent{font-size:.7rem}.attribute-mini-bar{height:4px}}.right-sidebar{display:contents}.pieces-bottom-sheet{position:fixed;bottom:0;left:0;right:0;height:100vh;background:linear-gradient(180deg,rgba(30,30,45,.98) 0,#141423 100%);border-radius:20px 20px 0 0;box-shadow:0 -8px 40px rgba(0,0,0,.6);transition:transform .4s cubic-bezier(.4, 0, .2, 1);will-change:transform;z-index:100;backdrop-filter:blur(10px)}.pieces-bottom-sheet.collapsed{transform:translateY(calc(100% - 60px))}.pieces-bottom-sheet.half{transform:translateY(50%)}.pieces-bottom-sheet.full{transform:translateY(0)}.bottom-sheet-handle{width:50px;height:5px;background:rgba(244,233,216,.4);border-radius:3px;margin:12px auto 8px auto;cursor:grab;transition:all .2s ease}.bottom-sheet-handle:hover{background:rgba(244,233,216,.6);width:60px}.bottom-sheet-handle:active{cursor:grabbing;background:var(--franken-brass)}.bottom-sheet-header{padding:.75rem 1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid rgba(212,175,55,.2);background:rgba(0,0,0,.2);cursor:pointer;user-select:none}.bottom-sheet-header:active{background:rgba(0,0,0,.3)}.bottom-sheet-title{font-size:1.1rem;font-weight:600;color:var(--franken-brass);font-family:Cinzel,serif;display:flex;align-items:center;gap:.5rem}.pieces-count-badge{background:rgba(212,175,55,.2);color:var(--franken-brass);padding:.25rem .75rem;border-radius:12px;font-size:.9rem;font-weight:700;border:1px solid rgba(212,175,55,.4)}.expand-indicator{font-size:1.2rem;color:var(--franken-brass);transition:transform .3s ease}.pieces-bottom-sheet.full .expand-indicator{transform:rotate(180deg)}.bottom-sheet-content{height:calc(100% - 120px);overflow-y:auto;overflow-x:hidden;padding:1rem;scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.bottom-sheet-content::-webkit-scrollbar{width:6px}.bottom-sheet-content::-webkit-scrollbar-track{background:rgba(0,0,0,.2);border-radius:3px}.bottom-sheet-content::-webkit-scrollbar-thumb{background:rgba(212,175,55,.4);border-radius:3px}.bottom-sheet-content::-webkit-scrollbar-thumb:hover{background:rgba(212,175,55,.6)}.requirements-panel{position:sticky;top:0;left:0;right:0;background:linear-gradient(180deg,rgba(26,26,46,.98) 0,rgba(10,10,15,.95) 100%);border-bottom:3px solid var(--franken-copper);box-shadow:0 4px 20px rgba(0,0,0,.8);z-index:200;backdrop-filter:blur(15px)}.mission-progress-bar{display:flex;align-items:center;gap:1rem;padding:.75rem 1rem;background:rgba(0,0,0,.3);border-bottom:1px solid rgba(212,175,55,.1)}.mission-name{font-size:.95rem;font-weight:600;color:var(--franken-brass);font-family:Cinzel,serif;white-space:nowrap;display:flex;align-items:center;gap:.5rem}.progress-track{flex:1;height:24px;background:rgba(0,0,0,.4);border-radius:12px;overflow:hidden;position:relative;border:2px solid rgba(212,175,55,.3)}.progress-fill{height:100%;background:linear-gradient(90deg,var(--franken-brass) 0,var(--franken-copper) 100%);display:flex;align-items:center;justify-content:flex-end;padding-right:.5rem;transition:width .6s cubic-bezier(.65, 0, .35, 1);box-shadow:0 0 20px rgba(212,175,55,.5);position:relative}.progress-fill::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent 0,rgba(255,255,255,.3) 50%,transparent 100%);animation:progress-shimmer 2s linear infinite}@keyframes progress-shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}.progress-fill.increased{animation:progress-pulse .6s ease-out}@keyframes progress-pulse{0%{transform:scaleY(1)}30%{transform:scaleY(1.3);filter:brightness(1.5)}100%{transform:scaleY(1)}}.progress-text{font-size:.75rem;font-weight:700;color:var(--franken-dark);text-shadow:0 1px 2px rgba(255,255,255,.3);position:relative;z-index:1}.power-indicator{font-size:.9rem;font-weight:700;color:var(--franken-brass);white-space:nowrap;display:flex;align-items:center;gap:.25rem;padding:.25rem .75rem;background:rgba(212,175,55,.1);border-radius:12px;border:1px solid rgba(212,175,55,.3)}.requirements-checklist{padding:1rem 1.5rem;display:flex;flex-direction:column;gap:.5rem;max-height:0;overflow:hidden;transition:max-height .4s ease,padding .4s ease}.requirements-checklist.expanded{max-height:300px;overflow-y:auto}.requirement-item{display:flex;align-items:center;gap:.75rem;padding:.5rem .75rem;background:rgba(0,0,0,.2);border-radius:8px;border:1px solid rgba(212,175,55,.2);transition:all .3s ease}.requirement-item.fulfilled{border-color:#4caf50;background:rgba(76,175,80,.1)}.requirement-item.conflict{border-color:#f44336;background:rgba(244,67,54,.1)}.requirement-icon{font-size:1.5rem;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:rgba(212,175,55,.1);border-radius:8px;flex-shrink:0}.requirement-item.fulfilled .requirement-icon{background:rgba(76,175,80,.2)}.requirement-text{flex:1;font-size:.9rem;color:var(--franken-parchment);font-family:'Crimson Text',serif;display:flex;justify-content:space-between;gap:.5rem;align-items:center}.requirement-value{font-size:.8rem;color:rgba(244,233,216,.7);font-family:'Space Grotesk','Crimson Text',serif}.requirement-status{font-size:1.2rem;flex-shrink:0}.requirement-item.fulfilled .requirement-status{color:#4caf50}.requirement-item.conflict .requirement-status{color:#f44336}.requirement-section-divider{display:flex;align-items:center;gap:.75rem;margin:1rem 0 .5rem;padding:0}.requirement-section-divider .divider-line{flex:1;height:1px;background:linear-gradient(90deg,transparent,rgba(212,175,55,.3),transparent)}.requirement-section-divider .divider-label{font-size:.75rem;font-weight:600;color:rgba(212,175,55,.9);font-family:Cinzel,serif;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.requirement-item.balance-requirement{background:rgba(212,175,55,.05);border-left:3px solid rgba(212,175,55,.5)}.requirement-item.balance-requirement.fulfilled{border-left-color:#4caf50}.requirement-item.balance-requirement.conflict{border-left-color:#f44336}.requirement-item.balance-requirement .requirement-icon{background:rgba(212,175,55,.15)}.validation-preview{padding:.75rem 1rem;margin:.5rem 1.5rem;border-radius:8px;border:1px solid rgba(212,175,55,.2);background:rgba(0,0,0,.3);animation:slideIn .3s ease-out}@keyframes slideIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.validation-preview-content{display:flex;align-items:center;gap:.75rem}.validation-preview-content.viable{border-left:3px solid #4caf50;padding-left:.5rem}.validation-preview-content.not-viable{border-left:3px solid #f59e0b;padding-left:.5rem}.validation-preview .preview-icon{font-size:1.5rem;flex-shrink:0}.validation-preview .preview-text{flex:1;display:flex;flex-direction:column;gap:.25rem}.validation-preview .preview-status{font-weight:600;font-size:.9rem;color:var(--franken-brass);font-family:Cinzel,serif}.validation-preview .preview-details{font-size:.8rem;color:rgba(212,175,55,.7);font-family:'Crimson Text',serif}.toggle-requirements{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.5rem;background:rgba(0,0,0,.2);border:none;border-top:1px solid rgba(212,175,55,.1);color:var(--franken-brass);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s ease;width:100%;font-family:Cinzel,serif}.toggle-requirements:hover{background:rgba(0,0,0,.3);color:var(--franken-parchment)}.toggle-requirements:active{background:rgba(0,0,0,.4)}.toggle-requirements .expand-indicator{transition:transform .3s ease}.toggle-requirements.expanded .expand-indicator{transform:rotate(180deg)}.filters-bar{padding:1rem 1.5rem;background:rgba(0,0,0,.2);border-bottom:1px solid rgba(212,175,55,.1);display:none}.pieces-bottom-sheet.full .filters-bar,.pieces-modal-body .filters-bar{display:block}.search-box{width:100%;padding:.75rem 1rem;background:rgba(0,0,0,.3);border:2px solid rgba(212,175,55,.3);border-radius:12px;color:var(--franken-parchment);font-size:.95rem;font-family:'Crimson Text',serif;margin-bottom:.75rem;transition:all .3s ease}.search-box:focus{outline:0;border-color:var(--franken-brass);box-shadow:0 0 20px rgba(212,175,55,.3);background:rgba(0,0,0,.4)}.search-box::placeholder{color:rgba(244,233,216,.5)}.filter-pills{display:flex;gap:.5rem;flex-wrap:wrap}.filter-pill{padding:.5rem 1rem;background:rgba(212,175,55,.1);border:2px solid rgba(212,175,55,.3);border-radius:20px;color:var(--franken-brass);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s ease;user-select:none;font-family:Cinzel,serif}.filter-pill:hover{background:rgba(212,175,55,.2);transform:translateY(-2px)}.filter-pill:active{transform:translateY(0)}.filter-pill.active{background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);color:var(--franken-dark);border-color:var(--franken-brass);box-shadow:0 4px 12px rgba(212,175,55,.4)}@media (max-width:768px){.lab-workspace{height:calc(100vh - 150px - 60px);padding-bottom:0}.mission-progress-bar{flex-wrap:wrap;gap:.5rem}.mission-name{font-size:.85rem}.power-indicator{font-size:.8rem;padding:.2rem .6rem}.progress-track{width:100%;order:3}.requirement-item{padding:.4rem .6rem}.requirement-text{font-size:.85rem}.bottom-sheet-handle{height:6px;margin:15px auto 10px auto}.filter-pill{font-size:.8rem;padding:.4rem .8rem}}@media (min-width:769px) and (max-width:1024px){.pieces-bottom-sheet{right:0;left:auto;width:400px;height:100vh;border-radius:20px 0 0 20px;transform:translateX(0)!important}.pieces-bottom-sheet.collapsed{transform:translateX(calc(100% - 60px))!important}.bottom-sheet-handle{display:none}}@media (min-width:1025px){.lab-workspace{grid-template-columns:1fr;grid-template-rows:auto}.mission-selector{display:none}.being-display{grid-column:1;grid-row:1;padding:2rem;padding-top:150px}.right-sidebar{display:none}.being-info{max-width:600px;width:100%;margin-bottom:1.5rem}.vitruvian-container{max-width:600px;padding:2rem}.vitruvian-attributes{padding:1.5rem}.vitruvian-attributes-title{font-size:1.1rem}.attribute-label{font-size:.95rem}.attribute-percent{font-size:.9rem}.lab-controls{max-width:600px;width:100%;margin-top:1.5rem}.lab-button{font-size:.95rem;padding:.75rem 1.25rem}}.flight-animation-container{position:fixed;inset:0;pointer-events:none;z-index:9998}.piece-flying{position:fixed;pointer-events:none;z-index:9999;opacity:1;transform-origin:center;filter:drop-shadow(0 8px 24px rgba(212, 175, 55, .6))}@keyframes piece-flight{0%{opacity:1;transform:scale(1) rotate(0)}50%{transform:scale(.8) rotate(180deg)}100%{opacity:.3;transform:scale(.5) rotate(360deg)}}.flight-trail{position:fixed;width:6px;height:6px;border-radius:50%;pointer-events:none;z-index:9997;animation:trail-fade .8s ease-out forwards}@keyframes trail-fade{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0)}}.particle-burst-container{position:fixed;inset:0;pointer-events:none;z-index:9996}.particle{position:absolute;width:8px;height:8px;border-radius:50%;pointer-events:none;will-change:transform,opacity}@keyframes particle-burst{0%{opacity:1;transform:translate(0,0) scale(1)}100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0)}}.particle-star{width:12px;height:12px;background:linear-gradient(45deg,gold 0,#d4af37 100%);clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);animation:particle-star-burst 1s ease-out forwards}@keyframes particle-star-burst{0%{opacity:1;transform:translate(0,0) scale(1) rotate(0)}100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0) rotate(360deg)}}.particle-energy{background:radial-gradient(circle,var(--franken-lightning) 0,var(--franken-brass) 100%);box-shadow:0 0 10px var(--franken-lightning);animation:particle-energy-burst .8s ease-out forwards}@keyframes particle-energy-burst{0%{opacity:1;transform:translate(0,0) scale(1);box-shadow:0 0 20px var(--franken-lightning)}50%{box-shadow:0 0 30px var(--franken-lightning)}100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0);box-shadow:0 0 5px var(--franken-lightning)}}.selection-ripple{position:absolute;border-radius:50%;border:3px solid var(--franken-brass);background:rgba(212,175,55,.1);pointer-events:none;animation:ripple-expand .6s ease-out forwards}@keyframes ripple-expand{0%{width:0;height:0;opacity:1}100%{width:200px;height:200px;opacity:0}}.vitruvian-slot.compatible{animation:slot-compatible-glow 1s ease-in-out infinite;border-color:#4caf50;box-shadow:0 0 20px rgba(76,175,80,.6),0 0 40px rgba(76,175,80,.4),inset 0 0 20px rgba(76,175,80,.2)}@keyframes slot-compatible-glow{0%,100%{box-shadow:0 0 20px rgba(76,175,80,.6),0 0 40px rgba(76,175,80,.4),inset 0 0 20px rgba(76,175,80,.2)}50%{box-shadow:0 0 30px rgba(76,175,80,.8),0 0 60px rgba(76,175,80,.6),inset 0 0 30px rgba(76,175,80,.3)}}.vitruvian-slot.incompatible{animation:slot-incompatible-shake .5s ease-in-out;border-color:#f44336;box-shadow:0 0 20px rgba(244,67,54,.6),inset 0 0 10px rgba(244,67,54,.2)}@keyframes slot-incompatible-shake{0%,100%{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-5px)}20%,40%,60%,80%{transform:translateX(5px)}}.vitruvian-slot:hover{transform:scale(1.05);border-color:var(--franken-brass);box-shadow:0 0 15px rgba(212,175,55,.4),inset 0 0 10px rgba(212,175,55,.1)}.vitruvian-slot.empty{animation:slot-empty-pulse 2s ease-in-out infinite}@keyframes slot-empty-pulse{0%,100%{border-color:rgba(212,175,55,.3);box-shadow:0 0 10px rgba(212,175,55,.2)}50%{border-color:rgba(212,175,55,.5);box-shadow:0 0 20px rgba(212,175,55,.4)}}.piece-card.dragging{opacity:.6;transform:scale(1.1) rotate(3deg);cursor:grabbing;box-shadow:0 12px 40px rgba(0,0,0,.4),0 0 60px rgba(212,175,55,.5);z-index:10000;border:3px solid var(--franken-brass)}.drag-clone{position:fixed;pointer-events:none;z-index:10001;opacity:.9;transform-origin:center;filter:drop-shadow(0 12px 40px rgba(0, 0, 0, .5));animation:drag-clone-pulse .5s ease-in-out infinite}@keyframes drag-clone-pulse{0%,100%{transform:scale(1) rotate(0)}50%{transform:scale(1.05) rotate(2deg)}}.drop-zone-active{position:relative;background:rgba(76,175,80,.1);border:3px dashed #4caf50;border-radius:12px}.drop-zone-active::before{content:'‚Üì Suelta aqu√≠';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.9rem;font-weight:700;color:#4caf50;text-shadow:0 2px 4px rgba(0,0,0,.5);animation:drop-hint-bounce .6s ease-in-out infinite}@keyframes drop-hint-bounce{0%,100%{transform:translate(-50%,-50%)}50%{transform:translate(-50%,calc(-50% + 10px))}}.drop-success{animation:drop-success-flash .4s ease-out}@keyframes drop-success-flash{0%{background:rgba(76,175,80,0);transform:scale(1)}50%{background:rgba(76,175,80,.3);transform:scale(1.1)}100%{background:rgba(76,175,80,0);transform:scale(1)}}.piece-card{transition:all .3s cubic-bezier(.4, 0, .2, 1)}.piece-card:hover{transform:translateY(-4px) translateX(2px);box-shadow:0 12px 32px rgba(0,0,0,.3),0 0 40px rgba(212,175,55,.4)}.piece-card:active{transform:translateY(-2px) scale(.98);transition:all .1s ease}.piece-card.selected{background:linear-gradient(135deg,rgba(255,249,230,.98) 0,#f0e5c8 100%);border:3px solid var(--franken-brass);box-shadow:0 8px 24px rgba(212,175,55,.4),0 0 40px rgba(212,175,55,.3),inset 0 0 30px rgba(212,175,55,.1);position:relative}.piece-card.selected::before{content:'‚úì';position:absolute;top:-12px;right:-12px;width:48px;height:48px;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);border-radius:50%;border:4px solid rgba(30,30,45,.9);font-size:1.6rem;font-weight:900;color:var(--franken-dark);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px rgba(0,0,0,.5),0 0 30px rgba(212,175,55,.7),inset 0 2px 4px rgba(255,255,255,.3);animation:stamp-appear .5s cubic-bezier(.68,-.55,.265,1.55),stamp-glow 2s ease-in-out infinite .5s}@keyframes stamp-appear{0%{transform:scale(0) rotate(-180deg);opacity:0}70%{transform:scale(1.2) rotate(10deg)}100%{transform:scale(1) rotate(0);opacity:1}}@keyframes stamp-glow{0%,100%{box-shadow:0 6px 20px rgba(0,0,0,.5),0 0 30px rgba(212,175,55,.7),inset 0 2px 4px rgba(255,255,255,.3)}50%{box-shadow:0 6px 20px rgba(0,0,0,.5),0 0 50px rgba(212,175,55,.9),inset 0 2px 4px rgba(255,255,255,.5)}}.piece-card::after{content:'';position:absolute;left:0;top:0;bottom:0;width:5px;background:linear-gradient(180deg,var(--franken-brass) 0,var(--franken-copper) 100%);opacity:0;transition:opacity .3s ease;border-radius:8px 0 0 8px}.piece-card.selected::after,.piece-card:hover::after{opacity:1}.piece-card.loading{position:relative;pointer-events:none;opacity:.6}.piece-card.loading::before{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent 0,rgba(212,175,55,.2) 50%,transparent 100%);animation:loading-shimmer 1.5s linear infinite}@keyframes loading-shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}@media (max-width:768px){.piece-card{min-height:80px;padding:1.25rem 1.5rem}.piece-card:active{transform:scale(.95);box-shadow:0 4px 12px rgba(0,0,0,.2)}.piece-card.selected::before{width:52px;height:52px;font-size:1.8rem}@keyframes ripple-expand{0%{width:0;height:0;opacity:1}100%{width:300px;height:300px;opacity:0}}}@keyframes shake{0%,100%{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-8px)}20%,40%,60%,80%{transform:translateX(8px)}}.shake{animation:shake .5s ease-in-out}@keyframes bounce{0%,100%,20%,50%,80%{transform:translateY(0)}40%{transform:translateY(-20px)}60%{transform:translateY(-10px)}}.bounce{animation:bounce .6s ease-out}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fade-in{animation:fadeIn .4s ease-out}@keyframes zoomIn{from{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.zoom-in{animation:zoomIn .3s ease-out}.smart-suggestions{background:linear-gradient(135deg,rgba(76,175,80,.1) 0,rgba(33,150,243,.1) 100%);border:2px solid rgba(76,175,80,.3);border-radius:12px;padding:1rem 1.25rem;margin-bottom:1rem;display:none;animation:slideDown .3s ease-out}.smart-suggestions.active{display:block}@keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.suggestions-header{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-size:.9rem;font-weight:600;color:#4caf50;font-family:Cinzel,serif}.suggestions-list{display:flex;flex-direction:column;gap:.5rem}.suggestion-item{display:flex;align-items:center;gap:.75rem;padding:.6rem .9rem;background:rgba(255,255,255,.05);border:1px solid rgba(76,175,80,.2);border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:.85rem;color:var(--franken-parchment)}.suggestion-item:hover{background:rgba(76,175,80,.15);border-color:#4caf50;transform:translateX(4px)}.suggestion-icon{font-size:1.2rem;flex-shrink:0}.suggestion-text{flex:1}.suggestion-badge{padding:.2rem .5rem;background:rgba(76,175,80,.2);border-radius:6px;font-size:.75rem;color:#4caf50;font-weight:600}.franken-tooltip{position:fixed;background:linear-gradient(135deg,rgba(30,30,45,.98) 0,#141423 100%);border:2px solid var(--franken-brass);border-radius:12px;padding:.75rem 1rem;max-width:280px;z-index:10002;pointer-events:none;opacity:0;transform:scale(.9);transition:all .2s cubic-bezier(.4, 0, .2, 1);box-shadow:0 8px 32px rgba(0,0,0,.6),0 0 20px rgba(212,175,55,.3);backdrop-filter:blur(10px)}.franken-tooltip.show{opacity:1;transform:scale(1)}.tooltip-title{font-size:.9rem;font-weight:600;color:var(--franken-brass);margin-bottom:.5rem;font-family:Cinzel,serif;display:flex;align-items:center;gap:.5rem}.tooltip-content{font-size:.8rem;color:var(--franken-parchment);line-height:1.4;font-family:'Crimson Text',serif}.tooltip-shortcut{margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(212,175,55,.2);font-size:.75rem;color:rgba(244,233,216,.7)}.tooltip-shortcut kbd{display:inline-block;padding:.1rem .4rem;background:rgba(212,175,55,.2);border:1px solid rgba(212,175,55,.4);border-radius:4px;font-family:monospace;font-size:.7rem;color:var(--franken-brass);margin:0 .2rem}.franken-tooltip::before{content:'';position:absolute;width:0;height:0;border:8px solid transparent}.franken-tooltip[data-position=top]::before{bottom:-16px;left:50%;transform:translateX(-50%);border-top-color:var(--franken-brass)}.franken-tooltip[data-position=bottom]::before{top:-16px;left:50%;transform:translateX(-50%);border-bottom-color:var(--franken-brass)}.franken-tooltip[data-position=left]::before{right:-16px;top:50%;transform:translateY(-50%);border-left-color:var(--franken-brass)}.franken-tooltip[data-position=right]::before{left:-16px;top:50%;transform:translateY(-50%);border-right-color:var(--franken-brass)}.help-hint{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:50%;background:rgba(212,175,55,.2);border:1px solid rgba(212,175,55,.4);color:var(--franken-brass);font-size:.7rem;font-weight:700;cursor:help;transition:all .2s ease;margin-left:.25rem}.help-hint:hover{background:rgba(212,175,55,.3);border-color:var(--franken-brass);transform:scale(1.1)}.filter-pill[data-filter=compatible]{position:relative}.filter-pill[data-filter=compatible].active::after{content:'';position:absolute;top:-4px;right:-4px;width:8px;height:8px;background:#4caf50;border-radius:50%;border:2px solid rgba(30,30,45,.9);animation:pulse-dot 1.5s ease-in-out infinite}@keyframes pulse-dot{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.3);opacity:.7}}.vitruvian-popup{position:fixed;bottom:2rem;right:2rem;width:280px;height:320px;background:linear-gradient(135deg,rgba(30,30,45,.98) 0,rgba(20,20,35,.98) 100%);border:3px solid var(--franken-brass);border-radius:16px;padding:1rem;box-shadow:0 20px 60px rgba(0,0,0,.6),0 0 40px rgba(212,175,55,.3),inset 0 1px 0 rgba(255,255,255,.1);backdrop-filter:blur(10px);z-index:12000;display:none;flex-direction:column;gap:.75rem;animation:popupSlideIn .4s cubic-bezier(.34,1.56,.64,1)}.vitruvian-popup.visible{display:flex}.vitruvian-popup-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:.4rem;border-bottom:1px solid rgba(212,175,55,.3)}.vitruvian-popup-title{font-family:Cinzel,serif;font-size:.85rem;font-weight:600;color:var(--franken-brass)}.vitruvian-popup-close{background:0 0;border:none;color:var(--franken-parchment);font-size:1rem;cursor:pointer;padding:.2rem;transition:all .2s ease}.vitruvian-popup-close:hover{color:var(--franken-brass);transform:scale(1.1)}.vitruvian-popup-being{flex:1;position:relative;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at center,rgba(212,175,55,.05) 0,transparent 70%);border-radius:12px;overflow:hidden}@media (max-width:768px){.vitruvian-popup{left:1rem;right:1rem;bottom:calc(1rem + env(safe-area-inset-bottom,0px));width:auto;max-width:calc(100% - 2rem)}}.vitruvian-popup-being svg{width:100%;height:100%;filter:drop-shadow(0 4px 12px rgba(212, 175, 55, .3))}.vitruvian-popup-info{display:flex;flex-direction:column;gap:.5rem;padding-top:.5rem;border-top:1px solid rgba(212,175,55,.2)}.vitruvian-popup-piece{font-size:.85rem;color:var(--franken-parchment);text-align:center;font-weight:500}.vitruvian-popup-piece strong{color:var(--franken-brass)}.vitruvian-popup-attributes{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.vitruvian-popup-attribute{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .6rem;background:rgba(212,175,55,.15);border:1px solid rgba(212,175,55,.3);border-radius:12px;font-size:.75rem;color:var(--franken-brass);font-weight:600}.vitruvian-popup-empty{font-size:.8rem;text-align:center;color:rgba(244,233,216,.75);padding:.25rem .5rem}@keyframes popupSlideIn{from{transform:translateX(100%) scale(.8);opacity:0}to{transform:translateX(0) scale(1);opacity:1}}.vitruvian-popup-being.piece-added{animation:piecePulse .6s ease-out}@keyframes piecePulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05);box-shadow:0 0 30px rgba(212,175,55,.5)}}.franken-mini-tutorial{position:fixed;inset:0;background:rgba(10,10,15,.95);z-index:10003;display:none;align-items:center;justify-content:center;backdrop-filter:blur(8px);animation:fadeIn .3s ease-out}.franken-mini-tutorial.active{display:flex}.tutorial-card{background:linear-gradient(135deg,rgba(30,30,45,.98) 0,#141423 100%);border:3px solid var(--franken-brass);border-radius:20px;padding:2rem;max-width:500px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.8),0 0 40px rgba(212,175,55,.4);animation:zoomIn .4s cubic-bezier(.68,-.55,.265,1.55)}.tutorial-header{text-align:center;margin-bottom:1.5rem}.tutorial-icon{font-size:3rem;margin-bottom:.5rem;animation:bounce 1s ease-in-out infinite}.tutorial-title{font-size:1.5rem;font-weight:700;color:var(--franken-brass);font-family:Cinzel,serif;margin-bottom:.5rem}.tutorial-subtitle{font-size:.9rem;color:rgba(244,233,216,.7);font-family:'Crimson Text',serif}.tutorial-steps{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.tutorial-step{display:flex;gap:1rem;padding:.75rem;background:rgba(0,0,0,.2);border-radius:12px;border:1px solid rgba(212,175,55,.2);transition:all .2s ease}.tutorial-step:hover{background:rgba(0,0,0,.3);border-color:var(--franken-brass);transform:translateX(4px)}.step-number{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,var(--franken-brass),var(--franken-copper));color:var(--franken-dark);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;flex-shrink:0}.step-content{flex:1}.step-title{font-size:.95rem;font-weight:600;color:var(--franken-parchment);margin-bottom:.25rem}.step-description{font-size:.8rem;color:rgba(244,233,216,.7);line-height:1.3}.tutorial-actions{display:flex;gap:1rem;justify-content:center}.tutorial-btn{padding:.75rem 1.5rem;border-radius:12px;font-size:.95rem;font-weight:600;font-family:Cinzel,serif;cursor:pointer;transition:all .2s ease;border:2px solid}.tutorial-btn-primary{background:linear-gradient(135deg,var(--franken-brass),var(--franken-copper));border-color:var(--franken-brass);color:var(--franken-dark)}.tutorial-btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(212,175,55,.4)}.tutorial-btn-secondary{background:0 0;border-color:rgba(212,175,55,.4);color:var(--franken-brass)}.tutorial-btn-secondary:hover{background:rgba(212,175,55,.1);border-color:var(--franken-brass)}.progress-hint{position:absolute;top:-40px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#4caf50,#66bb6a);color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.8rem;font-weight:600;white-space:nowrap;box-shadow:0 4px 12px rgba(76,175,80,.4);animation:bounceIn .4s cubic-bezier(.68,-.55,.265,1.55);pointer-events:none}@keyframes bounceIn{0%{opacity:0;transform:translateX(-50%) scale(.5)}70%{transform:translateX(-50%) scale(1.1)}100%{opacity:1;transform:translateX(-50%) scale(1)}}.progress-hint::after{content:'';position:absolute;bottom:-6px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #66bb6a}.empty-compatible{text-align:center;padding:3rem 1.5rem;color:rgba(244,233,216,.6)}.empty-compatible-icon{font-size:4rem;margin-bottom:1rem;opacity:.5}.empty-compatible-title{font-size:1.1rem;font-weight:600;color:var(--franken-parchment);margin-bottom:.5rem;font-family:Cinzel,serif}.empty-compatible-text{font-size:.9rem;line-height:1.5;font-family:'Crimson Text',serif}.empty-compatible-suggestion{margin-top:1.5rem;padding:1rem;background:rgba(212,175,55,.1);border:2px dashed rgba(212,175,55,.3);border-radius:12px;font-size:.85rem;color:var(--franken-brass)}@media (max-width:768px){.smart-suggestions{padding:.75rem 1rem}.franken-tooltip{max-width:240px;padding:.6rem .8rem}.tutorial-card{padding:1.5rem;max-width:95%}.tutorial-icon{font-size:2.5rem}.tutorial-title{font-size:1.2rem}.tutorial-actions{flex-direction:column}.tutorial-btn{width:100%}}.mission-requirements-summary{margin-top:1.5rem;padding:1.25rem;background:linear-gradient(135deg,rgba(212,175,55,.1) 0,rgba(184,115,51,.1) 100%);border:2px solid rgba(212,175,55,.3);border-radius:12px;backdrop-filter:blur(4px);max-height:320px;overflow:hidden}.requirements-summary-title{font-size:1rem;font-weight:700;color:var(--franken-brass);margin-bottom:.75rem;text-align:center;text-transform:uppercase;letter-spacing:.05em}.requirements-summary-progress{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.progress-bar-mini{flex:1;height:8px;background:rgba(139,115,85,.3);border-radius:4px;overflow:hidden}.progress-fill-mini{height:100%;background:#ff9800;border-radius:4px;transition:width .4s cubic-bezier(.4, 0, .2, 1),background-color .3s ease;position:relative}.progress-fill-mini::after{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent 0,rgba(255,255,255,.3) 50%,transparent 100%);animation:shimmer 2s infinite}.progress-label-mini{font-size:.85rem;font-weight:600;color:var(--franken-parchment);white-space:nowrap}.requirements-list-mini{display:flex;flex-direction:column;gap:.5rem}.requirement-mini-item{display:flex;align-items:flex-start;gap:.6rem;padding:.5rem .75rem;background:rgba(244,233,216,.05);border-radius:6px;transition:all .2s ease}.requirement-mini-item.fulfilled{background:rgba(76,175,80,.12);border-left:3px solid #4caf50}.requirement-mini-icon{font-size:1rem;flex-shrink:0}.requirement-mini-text{font-size:.85rem;color:var(--franken-parchment);flex:1;display:flex;flex-direction:column;gap:.1rem}.requirement-mini-text small{font-size:.75rem;color:rgba(244,233,216,.65)}.requirement-mini-more{display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.5rem .75rem;margin-top:.25rem;font-size:.8rem;color:var(--franken-sepia);font-style:italic}.view-all-requirements{padding:.25rem .75rem;background:var(--franken-brass);color:#1e1e2e;border:none;border-radius:4px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .2s ease}.view-all-requirements:hover{background:var(--franken-copper);transform:translateY(-1px);box-shadow:0 2px 8px rgba(212,175,55,.4)}@media (max-width:768px){.mission-requirements-summary{padding:1rem;margin-top:1rem}.requirements-summary-title{font-size:.9rem}.requirement-mini-text{font-size:.8rem}}.filter-info{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1rem 1.5rem;margin-bottom:1rem;background:linear-gradient(135deg,rgba(33,150,243,.15) 0,rgba(33,150,243,.08) 100%);border:2px solid rgba(33,150,243,.3);border-radius:8px;color:var(--franken-parchment);font-size:.95rem;animation:slideDown .3s ease-out}.filter-info strong{color:var(--franken-brass);font-weight:700}.clear-filter-btn{padding:.5rem 1rem;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:6px;color:var(--franken-parchment);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s ease;white-space:nowrap}.clear-filter-btn:hover{background:rgba(255,255,255,.2);border-color:rgba(255,255,255,.3);transform:translateY(-1px)}@media (max-width:768px){.filter-info{flex-direction:column;text-align:center;gap:.75rem}.clear-filter-btn{width:100%}}.quiz-modal-overlay{position:fixed;inset:0;z-index:15000;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.9);backdrop-filter:blur(10px);opacity:0;pointer-events:none;transition:opacity .3s ease}.quiz-modal-overlay.active{opacity:1;pointer-events:all}.quiz-modal-content{position:relative;background:linear-gradient(135deg,#1e1e2e 0,#2d2d44 100%);border:3px solid var(--franken-brass);border-radius:16px;max-width:700px;width:90%;max-height:90vh;box-shadow:0 20px 60px rgba(0,0,0,.8),0 0 0 1px rgba(212,175,55,.3),inset 0 1px 0 rgba(255,255,255,.1);animation:quizSlideUp .4s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column;overflow:hidden}@keyframes quizSlideUp{from{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.quiz-modal-header{padding:.875rem 1.25rem;border-bottom:2px solid rgba(212,175,55,.3);background:linear-gradient(135deg,rgba(212,175,55,.15) 0,rgba(139,115,85,.1) 100%);position:relative}.quiz-modal-close{position:absolute;top:.75rem;right:.75rem;background:0 0;border:none;color:var(--franken-parchment);cursor:pointer;padding:.4rem;border-radius:6px;transition:all .3s ease;opacity:.7}.quiz-modal-close:hover{background:rgba(212,175,55,.2);opacity:1;transform:rotate(90deg)}.quiz-modal-title{margin:0;color:var(--franken-brass);font-family:Cinzel,serif;font-size:1.25rem;font-weight:700;letter-spacing:.08em;display:flex;align-items:center;gap:.5rem}.quiz-icon{font-size:1.5rem;animation:pulseGlow 2s ease-in-out infinite}@keyframes pulseGlow{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}.quiz-subtitle{margin-top:.35rem;color:var(--franken-parchment);font-size:.8rem;opacity:.8}.quiz-modal-body{padding:1rem 1.25rem;overflow-y:auto;flex:1}.quiz-question{margin-bottom:2rem;padding:1.5rem;background:rgba(139,115,85,.08);border:2px solid rgba(212,175,55,.2);border-radius:12px;transition:all .3s ease}.quiz-question:hover{border-color:rgba(212,175,55,.4);box-shadow:0 4px 20px rgba(212,175,55,.1)}.quiz-question-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.quiz-question-number{font-size:.85rem;font-weight:600;color:var(--franken-brass);text-transform:uppercase;letter-spacing:.1em}.quiz-question-text{font-size:1.1rem;font-weight:600;color:var(--franken-parchment);margin-bottom:1.5rem;line-height:1.6}.quiz-options{display:flex;flex-direction:column;gap:.75rem}.quiz-option{display:flex;align-items:center;padding:1rem 1.25rem;background:rgba(20,20,35,.6);border:2px solid rgba(212,175,55,.2);border-radius:8px;cursor:pointer;transition:all .2s ease}.quiz-option:hover{background:rgba(212,175,55,.1);border-color:rgba(212,175,55,.4);transform:translateX(4px)}.quiz-option input[type=radio]{margin-right:1rem;width:20px;height:20px;cursor:pointer;accent-color:var(--franken-brass)}.quiz-option label{flex:1;color:var(--franken-parchment);cursor:pointer;font-size:1rem;line-height:1.5}.quiz-option.correct{background:rgba(76,175,80,.2);border-color:rgba(76,175,80,.6);animation:correctPulse .5s ease-out}.quiz-option.incorrect{background:rgba(244,67,54,.2);border-color:rgba(244,67,54,.6);animation:incorrectShake .5s ease-out}@keyframes correctPulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}@keyframes incorrectShake{0%,100%{transform:translateX(0)}25%{transform:translateX(-10px)}75%{transform:translateX(10px)}}.quiz-feedback{margin-top:1rem;padding:1rem;border-radius:8px;animation:fadeIn .3s ease-out}@keyframes fadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.feedback-correct{color:#4caf50}.feedback-incorrect{color:#f44336}.feedback-correct strong,.feedback-incorrect strong{display:block;margin-bottom:.5rem;font-size:1.1rem}.feedback-correct p,.feedback-incorrect p{color:var(--franken-parchment);opacity:.9;line-height:1.6;margin:.5rem 0}.quiz-quote{margin-top:1rem;padding:1rem;background:rgba(139,115,85,.15);border-left:4px solid var(--franken-brass);font-style:italic;color:var(--franken-parchment);opacity:.85}.quiz-modal-footer{padding:1.5rem 2rem;border-top:2px solid rgba(212,175,55,.3);display:flex;justify-content:space-between;gap:1rem}.quiz-btn{padding:.875rem 2rem;font-size:1rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.05em}.quiz-btn-submit{background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);color:var(--franken-dark);box-shadow:0 4px 15px rgba(212,175,55,.3)}.quiz-btn-submit:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(212,175,55,.5)}.quiz-btn-submit:disabled{opacity:.5;cursor:not-allowed}.quiz-btn-cancel{background:linear-gradient(135deg,rgba(100,100,100,.3) 0,rgba(80,80,80,.3) 100%);color:var(--franken-parchment);border:1px solid rgba(212,175,55,.3)}.quiz-btn-cancel:hover{background:linear-gradient(135deg,rgba(120,120,120,.4) 0,rgba(100,100,100,.4) 100%);border-color:rgba(212,175,55,.5)}.quiz-btn-continue{background:linear-gradient(135deg,#4caf50 0,#66bb6a 100%);color:#fff;box-shadow:0 4px 15px rgba(76,175,80,.3)}.quiz-btn-continue:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(76,175,80,.5)}.quiz-result{text-align:center;padding:1.5rem}.quiz-result-icon{font-size:4rem;margin-bottom:1rem;animation:resultBounce .6s ease-out}@keyframes resultBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}.quiz-result-score{font-size:2rem;font-weight:700;margin-bottom:1rem}.quiz-result.result-perfect .quiz-result-score{color:gold;text-shadow:0 0 20px rgba(255,215,0,.5)}.quiz-result.result-good .quiz-result-score{color:#4caf50}.quiz-result.result-weak .quiz-result-score{color:#ff9800}.quiz-result-message{font-size:1.1rem;color:var(--franken-parchment);margin-bottom:1.5rem;line-height:1.6}.quiz-result-power{font-size:1.3rem;margin-bottom:2rem;padding:1rem;background:rgba(212,175,55,.1);border-radius:8px;color:var(--franken-brass)}.quiz-result-power strong{font-size:1.5rem;color:var(--franken-brass)}.game-mode-selector{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;background:rgba(139,115,85,.08);border:2px solid rgba(212,175,55,.3);border-radius:12px;margin:1.5rem 0;width:calc(100% - 3rem);max-width:900px;margin-left:auto;margin-right:auto}.game-mode-label{color:var(--franken-brass);font-weight:600;font-size:.95rem;text-transform:uppercase;letter-spacing:.1em}.difficulty-toggle,.game-mode-toggle{display:flex;background:rgba(20,20,35,.6);border-radius:8px;padding:.25rem;gap:.25rem}.difficulty-option,.game-mode-option{padding:.5rem 1rem;background:0 0;border:none;color:var(--franken-parchment);font-size:.9rem;font-weight:500;cursor:pointer;border-radius:6px;transition:all .3s ease;opacity:.6}.difficulty-option:hover,.game-mode-option:hover{opacity:.9}.difficulty-option.active,.game-mode-option.active{background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);color:var(--franken-dark);opacity:1;box-shadow:0 2px 10px rgba(212,175,55,.3)}.game-mode-description{flex:1;color:var(--franken-parchment);font-size:.85rem;opacity:.7;line-height:1.4}@media (max-width:768px){.quiz-modal-content{max-width:95%;max-height:95vh}.quiz-modal-header{padding:.75rem 1rem}.quiz-modal-title{font-size:1.05rem}.quiz-icon{font-size:1.25rem}.quiz-subtitle{font-size:.75rem}.quiz-modal-body{padding:.75rem 1rem}.quiz-question{padding:1rem;margin-bottom:1rem}.quiz-question-text{font-size:.95rem}.quiz-option{padding:.75rem .875rem}.game-mode-selector{flex-direction:column;align-items:flex-start;gap:.5rem}.difficulty-toggle,.game-mode-toggle{width:100%}.difficulty-option,.game-mode-option{flex:1;text-align:center;font-size:.8rem;padding:.4rem .6rem}}@media (max-width:480px){.quiz-modal-header{padding:.6rem .875rem}.quiz-modal-title{font-size:.95rem;gap:.35rem}.quiz-icon{font-size:1.1rem}.quiz-subtitle{font-size:.7rem;margin-top:.25rem}.quiz-modal-body{padding:.5rem .75rem}.quiz-question{padding:.75rem;margin-bottom:.75rem}.quiz-question-text{font-size:.9rem;line-height:1.4}.quiz-option{padding:.65rem .75rem;font-size:.85rem}.quiz-option-text{font-size:.85rem}}.lab-header-content{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;width:100%}.lab-header-titles{flex:1;min-width:0}.lab-header-actions{display:flex;gap:.5rem;align-items:center;flex-shrink:0}@media (max-width:640px){.lab-header-content{flex-direction:column;gap:.75rem}.lab-header-actions{width:100%;justify-content:flex-end}.lab-title{font-size:1.5rem}.lab-subtitle{font-size:.875rem}}#saved-beings-modal{position:fixed;inset:0;z-index:10000;background:linear-gradient(145deg,rgba(20,20,35,.98) 0,rgba(15,15,25,.99) 100%);display:flex;flex-direction:column;overflow:hidden}#saved-beings-modal .saved-beings-header{position:sticky;top:0;z-index:10001;background:linear-gradient(135deg,rgba(30,30,45,.98) 0,rgba(20,20,35,.98) 100%);backdrop-filter:blur(10px);border-bottom:2px solid rgba(212,175,55,.3);padding:1.5rem;flex-shrink:0}#saved-beings-modal .saved-beings-body{flex:1;overflow-y:auto;overflow-x:hidden;padding:1.5rem;padding-bottom:3rem}#saved-beings-modal .saved-beings-body.scrollable{overflow-y:auto}.beings-grid.responsive{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(320px,1fr))}@media (max-width:768px){#saved-beings-modal .saved-beings-body{padding:1rem}.beings-grid.responsive{grid-template-columns:1fr}.being-card{padding:1rem;gap:.75rem}.being-card h4{font-size:1rem}.being-card-header{flex-direction:column}.being-card-actions{width:100%;justify-content:flex-start}.being-card-body{flex-direction:column}.being-card-radar{width:100%}}#saved-beings-modal .saved-beings-close{position:absolute;top:1rem;right:1rem;font-size:2rem;color:var(--franken-parchment);background:0 0;border:none;cursor:pointer;transition:all .3s ease;padding:.5rem;line-height:1;z-index:10002}#saved-beings-modal .saved-beings-close:hover{color:var(--franken-brass);transform:scale(1.1) rotate(90deg)}#saved-beings-modal h3{margin:0;padding-right:3rem;color:var(--franken-brass);font-family:Cinzel,serif;font-size:2rem;text-shadow:0 2px 8px rgba(212,175,55,.3)}.being-card{background:linear-gradient(135deg,rgba(30,30,45,.6) 0,rgba(20,20,35,.8) 100%);border:1px solid rgba(212,175,55,.3);border-radius:12px;padding:1.5rem;margin-bottom:1rem;transition:all .3s ease;display:flex;flex-direction:column;gap:1rem}.being-card:hover{border-color:rgba(212,175,55,.6);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.4)}.being-card-header{display:flex;gap:1rem;align-items:flex-start;flex-wrap:wrap}.being-card-avatar{flex-shrink:0;width:88px;height:88px;border-radius:14px;border:2px solid var(--franken-brass);overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;font-size:2.5rem;background:rgba(15,23,42,.6)}.being-card-avatar img{width:100%;height:100%;object-fit:cover}.being-card-info{flex:1;min-width:200px;min-height:0}.being-card-name{margin:0;font-size:1.25rem;font-weight:700;color:var(--franken-brass);text-shadow:0 2px 6px rgba(0,0,0,.35)}.being-card-mission{margin:.15rem 0 .5rem;color:rgba(244,233,216,.8);font-style:italic}.being-card-date{margin:0 0 .2rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;color:rgba(244,233,216,.5)}.being-card-stats{display:flex;gap:.75rem;flex-wrap:wrap;font-size:.85rem;color:rgba(244,233,216,.85)}.being-card-actions{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:flex-end;align-self:stretch}.being-card-body{display:flex;flex-wrap:wrap;gap:1rem;align-items:flex-start}.being-card-radar{flex:0 0 180px;max-width:220px}.being-card-attributes{flex:1;min-width:200px;display:flex;flex-wrap:wrap;gap:.35rem}.being-card-attribute-pill{font-size:.78rem;border-radius:999px;border:1px solid rgba(212,175,55,.2);padding:.3rem .75rem;color:rgba(244,233,216,.85);background:rgba(212,175,55,.08)}.empty-beings-state{text-align:center;padding:4rem 2rem;color:var(--franken-parchment);opacity:.7}.empty-beings-state svg{width:80px;height:80px;margin:0 auto 1.5rem;opacity:.5}@media (max-width:640px){#saved-beings-modal .saved-beings-header{padding:1rem}#saved-beings-modal h3{font-size:1.5rem}#saved-beings-modal .saved-beings-body{padding:1rem}.being-card{padding:1rem;gap:.75rem}.being-card-header{flex-direction:column}.being-card-actions{width:100%;justify-content:flex-start}.being-card-body{flex-direction:column}.being-card-radar{width:100%}}.frankenstein-start-screen{position:fixed;inset:0;background:var(--technical-grid),var(--da-vinci-bg),var(--ink-stains),linear-gradient(135deg,rgba(26,11,46,.9) 0,rgba(45,27,78,.95) 50%,rgba(26,11,46,.9) 100%);background-size:40px 40px,cover,100% 100%,100% 100%;background-position:center;background-repeat:repeat,no-repeat,no-repeat,no-repeat;background-blend-mode:overlay,luminosity,screen,normal;display:flex;align-items:center;justify-content:center;z-index:10000;overflow-y:auto;padding:1.5rem}.start-screen-content{width:min(1100px,100%);margin:auto;padding:clamp(1rem,2vw,2.5rem);display:flex;flex-direction:column;gap:1.5rem;animation:fadeInStart .8s ease}@keyframes fadeInStart{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.start-hero{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;background:rgba(6,8,20,.75);border:1px solid rgba(167,139,250,.3);border-radius:24px;padding:clamp(1.25rem,2vw,2rem);box-shadow:0 25px 80px rgba(10,4,20,.6);backdrop-filter:blur(12px)}.hero-info{display:flex;flex-direction:column;gap:1rem}.hero-label{text-transform:uppercase;letter-spacing:.2em;font-size:.75rem;color:rgba(251,191,36,.8);margin:0}.hero-title{font-size:clamp(1.75rem, 4vw, 2.7rem);color:#f8fafc;margin:0;line-height:1.2}.hero-description{color:rgba(226,232,240,.85);margin:0;font-size:1rem;line-height:1.6}.hero-actions{display:flex;flex-wrap:wrap;gap:.75rem}.start-button{background:linear-gradient(135deg,#8b5cf6 0,#312e81 100%);color:#fff;border:none;border-radius:999px;padding:.85rem 2rem;font-weight:600;font-size:1rem;display:inline-flex;align-items:center;gap:.65rem;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;box-shadow:0 15px 25px rgba(109,40,217,.4)}.start-button:hover{transform:translateY(-2px);box-shadow:0 20px 35px rgba(99,102,241,.5)}.start-button-arrow{font-size:1.25rem;transition:transform .2s ease}.start-button:hover .start-button-arrow{transform:translateX(4px)}.ghost-button{background:0 0;border:1px solid rgba(226,232,240,.4);color:rgba(226,232,240,.8);border-radius:999px;padding:.8rem 1.5rem;font-weight:600;cursor:pointer;transition:all .2s ease}.ghost-button:hover{color:#fff;border-color:rgba(255,255,255,.8);background:rgba(255,255,255,.05)}.hero-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.85rem}.hero-stat{background:rgba(255,255,255,.03);border:1px solid rgba(148,163,184,.25);border-radius:14px;padding:.8rem}.hero-stat-label{font-size:.75rem;letter-spacing:.1em;color:rgba(148,163,184,.8);text-transform:uppercase}.hero-stat-value{font-size:1.05rem;font-weight:600;color:#f8fafc}.hero-visual{position:relative;background:radial-gradient(circle at top,rgba(99,102,241,.3),rgba(15,23,42,.6));border-radius:20px;border:1px solid rgba(99,102,241,.4);padding:1.2rem;overflow:hidden}.hero-holo{width:clamp(220px,30vw,320px);height:clamp(220px,30vw,320px);margin:0 auto 1rem;position:relative}.hero-holo-ring{position:absolute;inset:0;border-radius:999px;border:1px solid rgba(137,180,255,.4);animation:holo-spin 14s linear infinite}.hero-holo-ring.ring-2{inset:12px;animation-duration:18s;border-color:rgba(244,114,182,.5)}.hero-holo-ring.ring-3{inset:24px;animation-duration:22s;border-color:rgba(45,212,191,.5)}.hero-holo-core{position:absolute;inset:50%;transform:translate(-50%,-50%);width:80px;height:80px;border-radius:50%;background:radial-gradient(circle,rgba(255,255,255,.9),rgba(99,102,241,.3));display:flex;align-items:center;justify-content:center;font-size:2rem;box-shadow:0 0 40px rgba(129,140,248,.6)}@keyframes holo-spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}.hero-visual-meta{background:rgba(7,11,24,.7);border:1px solid rgba(148,163,184,.25);border-radius:16px;padding:1rem;display:flex;flex-direction:column;gap:.75rem}.meta-label{text-transform:uppercase;letter-spacing:.2em;font-size:.7rem;color:rgba(148,163,184,.9);margin:0 0 .15rem 0}.meta-value{font-size:.95rem;color:rgba(248,250,252,.85);margin:0}.meta-divider{height:1px;width:100%;background:linear-gradient(90deg,transparent,rgba(148,163,184,.5),transparent)}.meta-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.75rem}.meta-number{font-size:1.4rem;font-weight:700;color:#e0e7ff;margin:0}.hero-tabs{display:flex;flex-wrap:wrap;gap:.75rem}.hero-tab{border:1px solid rgba(148,163,184,.3);color:rgba(226,232,240,.8);background:rgba(10,15,30,.6);border-radius:999px;padding:.65rem 1.25rem;font-weight:600;cursor:pointer;transition:all .2s ease}.hero-tab.active{color:#0f172a;background:#facc15;border-color:#facc15;box-shadow:0 10px 30px rgba(250,204,21,.35)}.start-panels{position:relative}.start-panel{display:none;opacity:0;transform:translateY(20px);transition:opacity .3s ease,transform .3s ease;background:rgba(4,7,16,.85);border:1px solid rgba(71,85,105,.4);border-radius:20px;padding:clamp(1rem,2vw,1.75rem)}.start-panel.active{display:block;opacity:1;transform:translateY(0)}.panel-heading{display:flex;flex-direction:column;gap:.35rem;margin-bottom:1rem}.panel-label{margin:0;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;color:rgba(148,163,184,.8)}.panel-heading h2{margin:0;color:#fff;font-size:1.5rem}.panel-description{margin:0;color:rgba(226,232,240,.75)}.briefing-grid,.difficulty-grid,.mode-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}.difficulty-card,.mode-card{border:1px solid rgba(148,163,184,.3);border-radius:16px;padding:1rem;background:rgba(255,255,255,.02);display:flex;align-items:flex-start;gap:.9rem;cursor:pointer;transition:transform .2s ease,border-color .2s ease,background .2s ease}.difficulty-card:hover,.mode-card:hover{transform:translateY(-3px);border-color:#8b5cf6;background:rgba(139,92,246,.08)}.difficulty-card.selected,.mode-card.selected{border-color:#facc15;background:rgba(250,204,21,.12);box-shadow:0 12px 30px rgba(250,204,21,.2)}.difficulty-card-icon,.mode-card-icon{font-size:1.8rem}.difficulty-card-title,.mode-card-title{margin:0 0 .25rem 0;font-size:1rem;color:#fff}.difficulty-card-description,.mode-card-description{margin:0;color:rgba(226,232,240,.75);font-size:.9rem;line-height:1.4}.briefing-card{background:rgba(255,255,255,.03);border:1px solid rgba(71,85,105,.4);border-radius:14px;padding:.85rem;color:rgba(241,245,249,.9)}.briefing-card h3{margin:0 0 .35rem;font-size:1rem;color:#f8fafc}.briefing-list{list-style:none;padding:0;margin:1rem 0 0 0;display:flex;flex-direction:column;gap:.4rem;color:rgba(226,232,240,.85)}.briefing-list li{background:rgba(15,23,42,.5);border:1px solid rgba(148,163,184,.2);border-radius:10px;padding:.6rem .9rem;font-size:.95rem}@media (max-width:900px){.frankenstein-start-screen{padding:1rem}.start-hero{grid-template-columns:1fr}.hero-visual{order:-1}}@media (max-width:520px){.hero-actions{flex-direction:column;align-items:stretch}.hero-tabs{flex-direction:column}.start-panel{padding:1rem}}.organism-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background:#0f172a;overflow:hidden}.organism-container.hidden{display:none}.organism-container>*{width:100%;height:100%}.being-avatar-display{margin:1rem 0;position:relative;overflow:hidden;animation:fadeInScale .6s ease-out}.being-avatar-display::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:var(--technical-grid);opacity:.3;pointer-events:none}@keyframes fadeInScale{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes pulse-glow{0%,100%{box-shadow:0 8px 24px rgba(0,0,0,.4),0 0 20px rgba(212,175,55,.3)}50%{box-shadow:0 8px 32px rgba(0,0,0,.5),0 0 30px rgba(212,175,55,.5)}}.being-avatar-display img{transition:transform .3s ease}.being-avatar-display img:hover{transform:scale(1.05)}.being-avatar-display svg{filter:drop-shadow(0 4px 8px rgba(0, 0, 0, .2));transition:transform .3s ease}.being-avatar-display svg:hover{transform:scale(1.05)}.game-bottom-sheet{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(180deg,rgba(30,30,45,.98) 0,rgba(20,20,30,.99) 100%);border-radius:20px 20px 0 0;box-shadow:0 -4px 30px rgba(0,0,0,.5);transform:translateY(100%);transition:transform .35s cubic-bezier(.4, 0, .2, 1);z-index:9999;max-height:85vh;display:flex;flex-direction:column;backdrop-filter:blur(20px)}.game-bottom-sheet.visible{transform:translateY(0)}.game-bottom-sheet.half{max-height:50vh}.sheet-drag-handle{width:40px;height:5px;background:rgba(255,255,255,.3);border-radius:3px;margin:12px auto 8px;cursor:grab;transition:background .2s,width .2s}.sheet-drag-handle:hover{background:rgba(255,255,255,.5);width:60px}.sheet-drag-handle:active{cursor:grabbing}.sheet-header{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem .75rem;border-bottom:1px solid rgba(212,175,55,.2)}.sheet-title{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:var(--franken-brass)}.sheet-title-icon{font-size:1.25rem}.sheet-close{width:32px;height:32px;border-radius:50%;background:rgba(255,255,255,.1);border:none;color:rgba(255,255,255,.7);font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.sheet-close:hover{background:rgba(255,255,255,.2);color:#fff}.sheet-content{flex:1;overflow-y:auto;padding:.75rem;overscroll-behavior:contain}.sheet-actions{display:flex;gap:.5rem;padding:.75rem 1rem;padding-bottom:calc(.75rem + env(safe-area-inset-bottom,0));border-top:1px solid rgba(212,175,55,.2);background:rgba(0,0,0,.2)}.sheet-action-btn{flex:1;padding:.75rem;border-radius:12px;border:none;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:.5rem}.sheet-action-btn.primary{background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);color:var(--franken-dark)}.sheet-action-btn.secondary{background:rgba(255,255,255,.1);color:var(--franken-parchment)}.sheet-action-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.3)}.radial-menu-trigger{position:fixed;bottom:calc(20px + env(safe-area-inset-bottom,0));right:20px;width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,var(--franken-brass) 0,var(--franken-copper) 100%);border:none;color:var(--franken-dark);font-size:1.5rem;cursor:pointer;box-shadow:0 4px 20px rgba(212,175,55,.4);z-index:9998;transition:all .3s cubic-bezier(.4, 0, .2, 1);display:flex;align-items:center;justify-content:center}.radial-menu-trigger:hover{transform:scale(1.1);box-shadow:0 6px 25px rgba(212,175,55,.5)}.radial-menu-trigger.active{transform:rotate(45deg);background:linear-gradient(135deg,#ef4444 0,#dc2626 100%)}.radial-menu{position:fixed;bottom:calc(90px + env(safe-area-inset-bottom,0));right:20px;pointer-events:none;z-index:9997}.radial-menu.visible{pointer-events:auto}.radial-item{position:absolute;width:48px;height:48px;border-radius:50%;background:rgba(30,30,45,.95);border:2px solid var(--franken-brass);color:var(--franken-brass);font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transform:scale(0) translateY(0);opacity:0;transition:all .3s cubic-bezier(.4, 0, .2, 1);box-shadow:0 4px 15px rgba(0,0,0,.3)}.radial-menu.visible .radial-item{opacity:1;transform:scale(1)}.radial-item:hover{background:var(--franken-brass);color:var(--franken-dark);transform:scale(1.15)}.radial-menu.visible .radial-item:first-child{transform:translate(-70px,-10px);transition-delay:50ms}.radial-menu.visible .radial-item:nth-child(2){transform:translate(-50px,-60px);transition-delay:0.1s}.radial-menu.visible .radial-item:nth-child(3){transform:translate(0,-80px);transition-delay:0.15s}.radial-menu.visible .radial-item:nth-child(4){transform:translate(50px,-60px);transition-delay:0.2s}.radial-menu.visible .radial-item:nth-child(5){transform:translate(70px,-10px);transition-delay:0.25s}.radial-item::after{content:attr(data-tooltip);position:absolute;bottom:-28px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.9);color:#fff;padding:4px 8px;border-radius:4px;font-size:.7rem;white-space:nowrap;opacity:0;transition:opacity .2s;pointer-events:none}.radial-item:hover::after{opacity:1}.game-tabs{display:flex;background:rgba(0,0,0,.3);border-radius:12px;padding:4px;gap:4px;margin:.5rem 0}.game-tab{flex:1;padding:.6rem .75rem;border-radius:10px;border:none;background:0 0;color:rgba(255,255,255,.6);font-size:.8rem;font-weight:500;cursor:pointer;transition:all .25s ease;display:flex;align-items:center;justify-content:center;gap:.4rem;position:relative}.game-tab-icon{font-size:1rem}.game-tab:hover{color:rgba(255,255,255,.9);background:rgba(255,255,255,.1)}.game-tab.active{background:linear-gradient(135deg,rgba(212,175,55,.3) 0,rgba(184,115,51,.3) 100%);color:var(--franken-brass);box-shadow:0 2px 8px rgba(0,0,0,.2)}.game-tab-badge{position:absolute;top:2px;right:2px;min-width:16px;height:16px;padding:0 4px;background:#ef4444;border-radius:8px;font-size:.65rem;font-weight:700;color:#fff;display:flex;align-items:center;justify-content:center}.game-card{background:linear-gradient(145deg,rgba(40,40,55,.9) 0,rgba(25,25,40,.95) 100%);border:1px solid rgba(212,175,55,.2);border-radius:16px;padding:1rem;transition:all .3s cubic-bezier(.4, 0, .2, 1);cursor:pointer;position:relative;overflow:hidden}.game-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent,var(--franken-brass),transparent);opacity:0;transition:opacity .3s}.game-card:hover{transform:translateY(-4px);border-color:rgba(212,175,55,.5);box-shadow:0 12px 30px rgba(0,0,0,.4)}.game-card:hover::before{opacity:1}.game-card:active{transform:translateY(-2px) scale(.98)}.game-card-header{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.game-card-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,rgba(212,175,55,.2) 0,rgba(139,115,85,.2) 100%);display:flex;align-items:center;justify-content:center;font-size:1.5rem;border:1px solid rgba(212,175,55,.3)}.game-card-title{font-size:.95rem;font-weight:600;color:var(--franken-parchment);margin:0}.game-card-subtitle{font-size:.75rem;color:rgba(255,255,255,.5);margin-top:2px}.game-card-body{font-size:.85rem;color:rgba(255,255,255,.7);line-height:1.4}.game-card-footer{display:flex;align-items:center;justify-content:space-between;margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(255,255,255,.1)}.game-card.locked{opacity:.6;filter:grayscale(.5)}.game-card.completed{border-color:rgba(76,175,80,.4)}.game-card.completed::after{content:'‚úì';position:absolute;top:10px;right:10px;width:24px;height:24px;background:#4caf50;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#fff}.game-progress{width:100%;height:8px;background:rgba(0,0,0,.4);border-radius:4px;overflow:hidden;position:relative}.game-progress-fill{height:100%;border-radius:4px;transition:width .5s cubic-bezier(.4, 0, .2, 1);position:relative}.game-progress-fill.gold{background:linear-gradient(90deg,var(--franken-copper) 0,var(--franken-brass) 50%,var(--franken-copper) 100%);background-size:200% 100%;animation:shimmer 2s infinite linear}.game-progress-fill.green{background:linear-gradient(90deg,#059669 0,#10b981 50%,#059669 100%);background-size:200% 100%;animation:shimmer 2s infinite linear}.game-progress-fill.blue{background:linear-gradient(90deg,#2563eb 0,#3b82f6 50%,#2563eb 100%);background-size:200% 100%;animation:shimmer 2s infinite linear}@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}.game-progress-labeled{display:flex;align-items:center;gap:.75rem}.game-progress-labeled .game-progress{flex:1}.game-progress-text{font-size:.75rem;font-weight:600;color:var(--franken-brass);min-width:40px;text-align:right}.game-progress-circle{position:relative;width:60px;height:60px}.game-progress-circle svg{transform:rotate(-90deg)}.game-progress-circle-bg{fill:none;stroke:rgba(255,255,255,0.1);stroke-width:4}.game-progress-circle-fill{fill:none;stroke:var(--franken-brass);stroke-width:4;stroke-linecap:round;transition:stroke-dashoffset .5s ease}.game-progress-circle-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.85rem;font-weight:700;color:var(--franken-parchment)}.quick-action-bar{display:flex;gap:.5rem;padding:.5rem;background:rgba(0,0,0,.3);border-radius:12px;overflow-x:auto;scrollbar-width:none}.quick-action-bar::-webkit-scrollbar{display:none}.quick-action{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem .75rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:10px;cursor:pointer;transition:all .2s;min-width:60px}.quick-action:hover{background:rgba(212,175,55,.15);border-color:rgba(212,175,55,.3)}.quick-action:active{transform:scale(.95)}.quick-action-icon{font-size:1.25rem}.quick-action-label{font-size:.65rem;color:rgba(255,255,255,.7);white-space:nowrap}.game-tooltip{position:absolute;background:rgba(15,15,25,.98);border:1px solid rgba(212,175,55,.4);border-radius:10px;padding:.75rem;max-width:220px;box-shadow:0 8px 25px rgba(0,0,0,.5);z-index:10000;opacity:0;transform:translateY(10px);transition:all .2s ease;pointer-events:none}.game-tooltip.visible{opacity:1;transform:translateY(0)}.game-tooltip-title{font-size:.9rem;font-weight:600;color:var(--franken-brass);margin-bottom:.35rem}.game-tooltip-desc{font-size:.75rem;color:rgba(255,255,255,.7);line-height:1.4}.game-tooltip-stats{display:flex;gap:.5rem;margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(255,255,255,.1)}.game-tooltip-stat{display:flex;align-items:center;gap:.25rem;font-size:.7rem;color:rgba(255,255,255,.6)}.game-tooltip::after{content:'';position:absolute;bottom:-6px;left:50%;transform:translateX(-50%);border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(15,15,25,.98)}.game-chip{display:inline-flex;align-items:center;gap:.35rem;padding:.3rem .6rem;background:rgba(255,255,255,.1);border-radius:20px;font-size:.7rem;color:rgba(255,255,255,.8);transition:all .2s}.game-chip.gold{background:rgba(212,175,55,.2);color:var(--franken-brass);border:1px solid rgba(212,175,55,.3)}.game-chip.green{background:rgba(16,185,129,.2);color:#34d399;border:1px solid rgba(16,185,129,.3)}.game-chip.red{background:rgba(239,68,68,.2);color:#f87171;border:1px solid rgba(239,68,68,.3)}.game-chip.blue{background:rgba(59,130,246,.2);color:#60a5fa;border:1px solid rgba(59,130,246,.3)}@media (max-width:480px){.radial-menu-trigger{width:50px;height:50px;font-size:1.25rem;right:12px;bottom:calc(12px + env(safe-area-inset-bottom,0))}.radial-item{width:42px;height:42px;font-size:1rem}.radial-menu.visible .radial-item:first-child{transform:translate(-55px,-8px)}.radial-menu.visible .radial-item:nth-child(2){transform:translate(-40px,-48px)}.radial-menu.visible .radial-item:nth-child(3){transform:translate(0,-65px)}.radial-menu.visible .radial-item:nth-child(4){transform:translate(40px,-48px)}.radial-menu.visible .radial-item:nth-child(5){transform:translate(55px,-8px)}.game-bottom-sheet{border-radius:16px 16px 0 0}.sheet-header{padding:.4rem .75rem .6rem}.sheet-title{font-size:.9rem}.sheet-content{padding:.5rem}.game-tabs{padding:3px;gap:3px}.game-tab{padding:.5rem .5rem;font-size:.7rem}.game-tab-icon{font-size:.9rem}.game-card{padding:.75rem;border-radius:12px}.game-card-icon{width:38px;height:38px;font-size:1.25rem}.game-card-title{font-size:.85rem}.game-card-body{font-size:.8rem}.quick-action{padding:.4rem .5rem;min-width:50px}.quick-action-icon{font-size:1.1rem}.quick-action-label{font-size:.6rem}}.being-display{border:none;padding:0;background:0 0;box-shadow:none;display:flex;flex-direction:column;gap:1.5rem;overflow:visible}.being-display::after,.being-display::before{display:none}@media (min-width:1024px){.being-display{display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,0.9fr);align-items:start}}.being-overview{display:flex;flex-direction:column;gap:1rem}.data-card{background:rgba(10,10,18,.82);border:1px solid rgba(244,233,216,.08);border-radius:20px;padding:1.35rem;box-shadow:var(--shadow-card);backdrop-filter:blur(18px)}.being-info-card{position:relative;overflow:hidden}.being-info-card::after{content:'';position:absolute;inset:0;background:radial-gradient(circle at top right,rgba(212,175,55,.18),transparent 60%);pointer-events:none}.being-info-top{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.label-chip{display:inline-flex;padding:.2rem .75rem;border-radius:999px;border:1px solid rgba(244,233,216,.3);font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(244,233,216,.7);margin-bottom:.4rem}.being-mission-row{display:flex;justify-content:space-between;align-items:center;gap:.75rem;margin:.75rem 0 .5rem}.mission-pill{padding:.2rem .85rem;border-radius:999px;border:1px solid rgba(244,233,216,.25);font-size:.78rem;text-transform:capitalize;color:var(--franken-parchment);background:rgba(244,233,216,.08)}.being-quick-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.75rem;margin-top:1rem}.mission-progress-card{margin-top:1.25rem;padding:1rem;border-radius:18px;border:1px solid rgba(244,233,216,.08);background:rgba(9,9,16,.65);display:flex;gap:1rem;align-items:center;backdrop-filter:blur(14px);position:relative}.progress-ring{--progress:0;width:110px;height:110px;border-radius:50%;background:conic-gradient(var(--franken-brass) calc(var(--progress) * 1%),rgba(255,255,255,.08) 0);display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 10px 25px rgba(0,0,0,.35)}.progress-ring::after{content:'';position:absolute;inset:12px;border-radius:50%;background:linear-gradient(180deg,rgba(15,17,22,.95),rgba(11,12,20,.8));border:1px solid rgba(244,233,216,.08)}.progress-ring-inner{position:relative;z-index:2;text-align:center;color:var(--franken-parchment);display:flex;flex-direction:column;align-items:center;line-height:1.1}.progress-ring-percent{font-size:1.4rem;font-weight:700}.progress-ring-inner small{font-size:.7rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(244,233,216,.7)}.progress-track{flex:1;display:flex;flex-direction:column;gap:.5rem}.progress-track-header{display:flex;justify-content:space-between;align-items:baseline}.progress-track-header p{margin:0;font-size:.95rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(244,233,216,.75)}#mission-progress-status{font-size:.95rem;font-weight:600;color:var(--franken-parchment)}.progress-reward-bar{position:relative;height:12px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(244,233,216,.08);overflow:hidden}.progress-reward-fill{position:absolute;left:0;top:0;bottom:0;width:0%;background:linear-gradient(90deg,rgba(212,175,55,.9),rgba(255,255,255,.85));border-radius:inherit;box-shadow:0 0 12px rgba(212,175,55,.5);transition:width .45s cubic-bezier(.4, 0, .2, 1)}.mission-reward-icon{position:absolute;top:50%;transform:translate(-50%,-50%);background:rgba(15,17,24,.95);border:1px solid rgba(244,233,216,.2);border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:.85rem;color:rgba(244,233,216,.7);transition:transform .2s,border-color .2s,color .2s}.mission-reward-icon.active{border-color:var(--franken-brass);color:var(--franken-brass);transform:translate(-50%,-50%) scale(1.15);box-shadow:0 0 12px rgba(212,175,55,.4)}.progress-track-hint{margin:0;font-size:.8rem;color:rgba(244,233,216,.65)}.progress-celebration{position:absolute;pointer-events:none;background:rgba(212,175,55,.2);border:1px solid rgba(212,175,55,.6);border-radius:999px;color:var(--franken-brass);padding:.3rem .8rem;font-size:.8rem;animation:celebration-pop 1s ease-out forwards}@keyframes celebration-pop{0%{opacity:0;transform:translateY(10px) scale(.8)}20%{opacity:1;transform:translateY(0) scale(1)}80%{opacity:1;transform:translateY(-10px) scale(1)}100%{opacity:0;transform:translateY(-20px) scale(.9)}}.mini-challenge-card{border-radius:20px;border:1px solid rgba(244,233,216,.1);background:rgba(9,10,16,.82);box-shadow:0 12px 30px rgba(0,0,0,.4);padding:1.25rem 1.35rem;display:flex;flex-direction:column;gap:.75rem}.mini-challenge-header{display:flex;justify-content:space-between;align-items:center;gap:1rem}.mini-challenge-label{margin:0;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;color:rgba(244,233,216,.55)}.mini-challenge-title{margin:.15rem 0 0;font-size:1.15rem;color:var(--franken-parchment)}.mini-challenge-refresh{border:1px solid rgba(244,233,216,.2);border-radius:12px;background:rgba(255,255,255,.05);color:var(--franken-parchment);font-size:1rem;padding:.45rem .6rem;cursor:pointer;transition:all .2s ease}.mini-challenge-refresh:hover{border-color:var(--franken-brass);color:var(--franken-brass);transform:rotate(10deg)}.mini-challenge-body{display:flex;flex-direction:column;gap:.6rem}.mini-challenge-meta{display:flex;justify-content:space-between;align-items:center;font-size:.9rem}.mini-challenge-attr{color:var(--franken-parchment);font-weight:600}.mini-challenge-status{color:rgba(244,233,216,.7);font-size:.85rem}.mini-challenge-description{margin:0;font-size:.9rem;color:rgba(244,233,216,.75)}.mini-challenge-progress-track{position:relative;height:12px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(244,233,216,.08);overflow:hidden}.mini-challenge-progress-fill{position:absolute;inset:0;width:0%;border-radius:inherit;background:linear-gradient(90deg,rgba(99,102,241,.9),rgba(236,72,153,.9));box-shadow:0 0 12px rgba(236,72,153,.35);transition:width .4s ease}.mini-challenge-progress-hint{font-size:.78rem;color:rgba(244,233,216,.6)}.mini-challenge-history{border-top:1px solid rgba(244,233,216,.08);padding-top:.6rem}.mini-challenge-history h5{margin:0 0 .35rem;font-size:.8rem;letter-spacing:.2em;text-transform:uppercase;color:rgba(244,233,216,.6)}.mini-challenge-history ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.25rem}.mini-challenge-history li{font-size:.78rem;color:rgba(244,233,216,.7);display:flex;justify-content:space-between}.mini-challenge-history-empty{font-size:.78rem;color:rgba(244,233,216,.5);margin:0}.demo-scenario-card{border-radius:20px;border:1px solid rgba(244,233,216,.1);background:rgba(8,8,14,.85);box-shadow:0 12px 30px rgba(0,0,0,.45);padding:1.2rem 1.4rem;display:flex;flex-direction:column;gap:.85rem}.demo-scenario-header{display:flex;justify-content:space-between;align-items:center}.demo-scenario-label{margin:0;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;color:rgba(244,233,216,.55)}.demo-scenario-title{margin:.2rem 0 0;font-size:1.2rem;color:var(--franken-parchment)}.demo-scenario-body{display:flex;flex-direction:column;gap:.75rem}.scenario-intro{margin:0;font-size:.92rem;color:rgba(244,233,216,.85)}.scenario-objectives{display:flex;flex-direction:column;gap:.5rem}.scenario-objective{display:flex;gap:.65rem;align-items:flex-start;border:1px solid rgba(244,233,216,.1);border-radius:12px;padding:.6rem .75rem;background:rgba(255,255,255,.03)}.scenario-objective.fulfilled{border-color:rgba(16,185,129,.4);background:rgba(16,185,129,.1)}.scenario-objective-icon{font-size:1rem}.scenario-objective p{margin:0;color:var(--franken-parchment);font-weight:600;font-size:.92rem}.scenario-objective small{display:block;color:rgba(244,233,216,.65);font-size:.78rem}.scenario-cta{border-left:3px solid rgba(212,175,55,.6);padding-left:.85rem;font-size:.85rem;color:rgba(244,233,216,.75)}.scenario-tips h5{margin:0 0 .35rem;font-size:.78rem;letter-spacing:.18em;text-transform:uppercase;color:rgba(244,233,216,.6)}.scenario-tips ul{margin:0;padding-left:1rem;color:rgba(244,233,216,.8);font-size:.85rem;display:flex;flex-direction:column;gap:.25rem}.microsociety-card{border-radius:20px;border:1px solid rgba(244,233,216,.1);background:rgba(8,8,15,.85);box-shadow:0 14px 32px rgba(0,0,0,.45);padding:1.2rem 1.4rem;display:flex;flex-direction:column;gap:.9rem}.microsociety-header{display:flex;justify-content:space-between;align-items:center;gap:.75rem}.microsociety-label{margin:0;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;color:rgba(244,233,216,.55)}.microsociety-title{margin:.2rem 0 0;font-size:1.15rem;color:var(--franken-parchment)}.microsociety-actions{display:flex;gap:.4rem}.micro-action{border:1px solid rgba(244,233,216,.25);border-radius:10px;background:rgba(255,255,255,.04);color:var(--franken-parchment);font-size:.82rem;padding:.4rem .7rem;cursor:pointer;transition:all .2s ease}.micro-action.secondary{border-color:rgba(139,115,85,.5)}.micro-action:hover{border-color:var(--franken-brass);color:var(--franken-brass)}.microsociety-body{display:flex;flex-direction:column;gap:.7rem}.microsociety-meta{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.6rem}.microsociety-meta-item{padding:.6rem .75rem;border-radius:12px;border:1px solid rgba(244,233,216,.1);background:rgba(255,255,255,.02)}.microsociety-meta-item span{display:block;font-size:.7rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(244,233,216,.6)}.microsociety-meta-item strong{display:block;margin-top:.2rem;font-size:1rem;color:var(--franken-parchment)}.microsociety-metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.5rem}.micro-metric{border-radius:12px;border:1px solid rgba(244,233,216,.08);padding:.55rem .7rem;background:rgba(255,255,255,.03);display:flex;flex-direction:column;gap:.2rem}.micro-metric span{font-size:.78rem;color:rgba(244,233,216,.7)}.micro-metric strong{font-size:1.1rem;color:var(--franken-parchment)}.microsociety-hint{font-size:.8rem;color:rgba(244,233,216,.65)}.micro-event-panel{border:1px dashed rgba(212,175,55,.3);border-radius:14px;padding:.95rem;background:rgba(26,32,44,.7);display:flex;flex-direction:column;gap:.6rem}.micro-event-panel h4{margin:0;font-size:.85rem;letter-spacing:.08em;text-transform:uppercase;color:var(--franken-brass)}.micro-event-buttons{display:flex;flex-wrap:wrap;gap:.45rem}.micro-event-btn{flex:1 1 140px;border-radius:12px;border:1px solid rgba(244,233,216,.2);background:linear-gradient(135deg,rgba(16,185,129,.15),rgba(14,165,233,.1));padding:.55rem .65rem;cursor:pointer;display:flex;flex-direction:column;gap:.15rem;transition:all .2s ease;font-size:.8rem;color:var(--franken-parchment)}.micro-event-btn small{font-size:.7rem;color:rgba(244,233,216,.7)}.micro-event-btn:hover{border-color:var(--franken-brass);color:var(--franken-brass)}.micro-event-history{display:flex;flex-direction:column;gap:.45rem;padding:.3rem 0}.micro-event-history-item{border-radius:12px;border:1px solid rgba(244,233,216,.1);padding:.45rem .65rem;background:rgba(255,255,255,.02)}.micro-event-history-item strong{font-size:.85rem;color:var(--franken-parchment)}.micro-event-history-item p{margin:.2rem 0;font-size:.8rem;color:rgba(244,233,216,.7)}.micro-event-history-item small{font-size:.65rem;color:rgba(244,233,216,.55)}.micro-event-empty{margin:0;font-size:.75rem;color:rgba(244,233,216,.65)}@media (max-width:768px){.mission-progress-card{flex-direction:column;align-items:stretch}.progress-ring{width:95px;height:95px;align-self:center}}.stat-chip{background:rgba(11,16,20,.6);border:1px solid rgba(212,175,55,.2);padding:.85rem;border-radius:12px;display:flex;flex-direction:column;gap:.2rem}.stat-label{font-size:.8rem;color:rgba(244,233,216,.7)}.stat-value{font-size:1.1rem;font-weight:600;color:var(--franken-parchment)}.being-visual-grid{display:grid;grid-template-columns:minmax(320px,1.3fr) minmax(260px,0.8fr);gap:1.25rem;align-items:stretch}@media (max-width:1100px){.being-visual-grid{grid-template-columns:1fr}}.vitruvian-stage{position:relative;border-radius:22px;overflow:hidden;background:linear-gradient(135deg,rgba(10,10,15,.85),rgba(32,32,55,.85)),var(--da-vinci-bg);background-size:cover;border:2px solid rgba(212,175,55,.3);box-shadow:0 20px 40px rgba(0,0,0,.55)}.vitruvian-stage-inner{backdrop-filter:blur(6px);padding:1.5rem;min-height:100%;display:flex;flex-direction:column;gap:1rem}.vitruvian-stage-header{display:flex;justify-content:space-between;align-items:center;gap:1rem}.vitruvian-stage-header h4{font-size:1.1rem;margin:.2rem 0 0;letter-spacing:.05em;color:var(--franken-parchment)}.vitruvian-energy-badge{display:inline-flex;align-items:center;justify-content:center;padding:.3rem .9rem;border-radius:999px;border:1px solid rgba(212,175,55,.6);background:rgba(10,10,15,.35);font-weight:600;color:var(--franken-parchment);box-shadow:inset 0 0 10px rgba(212,175,55,.25)}.vitruvian-stage-body{display:flex;gap:1.5rem;flex-wrap:wrap}.vitruvian-hud{flex:1;min-width:220px;display:flex;flex-direction:column;gap:.85rem}.vitruvian-hud-empty{color:rgba(244,233,216,.7);font-size:.9rem}.vitruvian-hud-item{display:flex;gap:.75rem;padding:.8rem;border-radius:14px;background:rgba(10,10,15,.45);border:1px solid rgba(212,175,55,.15)}.vitruvian-hud-icon{width:40px;height:40px;border-radius:12px;background:rgba(212,175,55,.15);display:flex;align-items:center;justify-content:center;font-size:1.1rem}.vitruvian-hud-details p{margin:0;font-weight:600;color:var(--franken-parchment)}.vitruvian-hud-details span{font-size:.85rem;color:rgba(244,233,216,.8)}.vitruvian-hud-meter{width:100%;height:4px;background:rgba(255,255,255,.1);border-radius:999px;margin-top:.35rem;overflow:hidden}.vitruvian-hud-meter span{display:block;height:100%;background:linear-gradient(90deg,#d4af37,#f59e0b);border-radius:999px}.vitruvian-container-expanded{max-width:none;flex:1;min-height:430px;margin:0;border:2px dashed rgba(212,175,55,.6);background:rgba(10,10,15,.35)}.vitruvian-composition{background:rgba(10,10,15,.45);border-radius:16px;padding:.9rem 1.1rem;border:1px solid rgba(148,163,184,.15)}.vitruvian-composition-title{margin:0 0 .5rem;text-transform:uppercase;letter-spacing:.08em;font-size:.75rem;color:rgba(244,233,216,.7)}.vitruvian-composition-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.4rem}.vitruvian-composition-list li{display:flex;align-items:center;gap:.75rem;padding:.5rem .65rem;border-radius:10px;background:rgba(255,255,255,.02);font-size:.85rem}.component-icon,.composition-icon{width:32px;height:32px;border-radius:10px;background:rgba(212,175,55,.18);display:flex;align-items:center;justify-content:center;font-size:1rem}.identity-components small,.vitruvian-composition-list small{color:rgba(244,233,216,.65);font-size:.75rem;display:block}.component-power,.composition-power{margin-left:auto;font-weight:600;color:var(--franken-parchment)}.vitruvian-composition-empty{color:rgba(244,233,216,.68);margin:0;font-size:.85rem}.component-icon{background:rgba(59,130,246,.15)}@media (max-width:900px){.vitruvian-stage-body{flex-direction:column}.vitruvian-container-expanded{min-height:360px}}.identity-card{display:flex;flex-direction:column;gap:1rem}.identity-components{background:rgba(10,10,15,.55);border:1px solid rgba(212,175,55,.15);border-radius:14px;padding:.9rem 1rem}.identity-components-header{display:flex;justify-content:space-between;align-items:center;font-size:.85rem;text-transform:uppercase;letter-spacing:.08em;color:rgba(244,233,216,.7);margin-bottom:.5rem}.identity-components ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.5rem}.identity-components li{display:flex;align-items:center;gap:.75rem;background:rgba(255,255,255,.02);border-radius:10px;padding:.5rem .65rem;font-size:.85rem}.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem;color:var(--franken-parchment);letter-spacing:.04em;text-transform:uppercase;font-size:.85rem}.being-panels{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1rem}@media (max-width:960px){.being-panels{grid-template-columns:1fr}}.collapsible-card{padding:0}.collapsible-card summary{list-style:none;display:flex;justify-content:space-between;align-items:center;gap:.5rem;padding:.95rem 1.35rem;cursor:pointer;font-weight:600;color:var(--franken-parchment)}.collapsible-card summary::-webkit-details-marker{display:none}.collapsible-card summary small{font-size:.8rem;color:rgba(244,233,216,.65)}.collapsible-card .card-body{padding:0 1.35rem 1.35rem}.attributes-requirements-grid{display:flex;flex-direction:column;gap:1.25rem}@media (min-width:1024px){.attributes-requirements-grid{display:grid;grid-template-columns:minmax(0,1.5fr) minmax(0,1fr);gap:1.5rem;align-items:stretch}}.requirements-mini-card{border-radius:18px;border:1px solid rgba(244,233,216,.1);background:rgba(13,14,22,.7);padding:1.1rem 1.35rem;display:flex;flex-direction:column;gap:.75rem;min-height:100%}.requirements-mini-header{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:var(--franken-parchment)}.requirements-mini-header small{font-size:.85rem;color:rgba(244,233,216,.6)}.experiment-log-body{display:flex;flex-direction:column;gap:.85rem}.experiment-log-item{padding:1rem 1.1rem;border-radius:16px;border:1px solid rgba(244,233,216,.12);background:rgba(6,8,15,.75);box-shadow:inset 0 1px 0 rgba(255,255,255,.04);display:flex;flex-direction:column;gap:.6rem;border-left:4px solid rgba(255,255,255,.1)}.experiment-log-item.viable{border-left-color:#22c55e;background:rgba(8,30,21,.65)}.experiment-log-item.inviable{border-left-color:#f97316;background:rgba(30,16,10,.6)}.experiment-log-header{display:flex;justify-content:space-between;gap:.75rem;align-items:flex-start}.experiment-log-date{margin:0;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:rgba(244,233,216,.55)}.experiment-log-score{font-size:1.4rem;font-weight:600;color:var(--franken-parchment)}.experiment-log-highlight{margin:0;color:rgba(244,233,216,.85);font-style:italic}.experiment-log-meta{display:flex;flex-wrap:wrap;gap:.75rem;font-size:.85rem;color:rgba(244,233,216,.7)}.experiment-log-attributes{display:flex;flex-wrap:wrap;gap:.4rem}.experiment-log-attributes span{font-size:.75rem;padding:.2rem .6rem;border-radius:999px;background:rgba(244,233,216,.08);border:1px solid rgba(244,233,216,.18)}.attributes-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.85rem}.attributes-panel{display:flex;flex-direction:column;gap:1.25rem;max-height:360px;overflow-y:auto;padding-right:.25rem}.attributes-overview{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.85rem}.attributes-panel::-webkit-scrollbar{width:6px}.attributes-panel::-webkit-scrollbar-thumb{background:rgba(244,200,80,.5);border-radius:999px}.attribute-radar-card{border-radius:16px;border:1px solid rgba(244,233,216,.12);background:rgba(14,12,21,.8);padding:.75rem;display:flex;flex-direction:column;align-items:center;gap:.35rem;text-align:center}.attribute-radar-card small{font-size:.8rem;color:rgba(244,233,216,.7);letter-spacing:.02em}.attribute-radar-meter{width:110px;height:110px;border-radius:50%;position:relative;background:conic-gradient(var(--franken-brass) var(--progress,0),rgba(244,233,216,.12) 0);display:flex;align-items:center;justify-content:center}.attribute-radar-meter::after{content:'';position:absolute;inset:12px;border-radius:50%;background:rgba(10,8,14,.95);border:1px solid rgba(244,233,216,.08)}.attribute-radar-value{position:relative;font-size:1.15rem;font-weight:700;color:var(--franken-parchment)}.attribute-radar-label{position:absolute;font-size:1.35rem;color:var(--franken-brass)}@media (max-width:640px){.attributes-overview{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}}.attribute-chip{border-radius:14px;border:1px solid rgba(244,233,216,.15);padding:.85rem;background:rgba(18,16,23,.75);transition:transform .2s ease}.attribute-chip.unmet{border-color:rgba(255,99,71,.4)}.chip-head{display:flex;gap:.75rem;align-items:center}.attribute-icon{font-size:1.2rem}.chip-title{display:flex;flex-direction:column;gap:.1rem}.chip-title .attribute-name{font-weight:600;color:var(--franken-parchment)}.chip-title .attribute-value{font-size:.85rem;color:rgba(244,233,216,.7)}.chip-bar{width:100%;height:6px;border-radius:999px;background:rgba(244,233,216,.12);margin-top:.7rem;overflow:hidden}.chip-bar span{display:block;height:100%;border-radius:inherit;background:linear-gradient(90deg,var(--franken-brass),var(--franken-copper));transition:width .3s ease}.empty-card-message{text-align:center;color:rgba(244,233,216,.65);font-style:italic;padding:.75rem 0}.balance-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem}.balance-item{display:flex;justify-content:space-between;align-items:center;padding:.65rem .85rem;border-radius:10px;background:rgba(20,16,24,.7);border:1px solid rgba(244,233,216,.08)}.balance-label{font-size:.85rem;color:rgba(244,233,216,.7)}.balance-value{font-weight:600;color:var(--franken-parchment)}.harmony-meter{height:8px;border-radius:999px;background:rgba(244,233,216,.1);margin:1rem 0;overflow:hidden}.harmony-meter span{display:block;height:100%;background:linear-gradient(90deg,#22c55e,#facc15)}.mission-requirements-summary{display:flex;flex-direction:column;gap:.75rem}.mission-requirements-summary[hidden]{display:none}.requirements-list-mini{display:flex;flex-direction:column;gap:.4rem;max-height:190px;overflow-y:auto;padding-right:.4rem}.requirements-list-mini::-webkit-scrollbar{width:6px}.requirements-list-mini::-webkit-scrollbar-thumb{background:rgba(244,200,80,.4);border-radius:999px}.requirement-mini-item{display:flex;align-items:flex-start;gap:.6rem;font-size:.9rem;color:var(--franken-parchment)}.view-all-requirements{display:inline-flex;align-items:center;gap:.35rem;align-self:flex-start;padding:.35rem .9rem;border-radius:999px;border:1px dashed rgba(244,233,216,.3);background:0 0;color:var(--franken-brass);cursor:pointer;font-size:.85rem}.lab-controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem}.actions-card .lab-button{width:100%}@media (max-width:768px){.collapsible-card summary{padding:.85rem 1rem}.collapsible-card .card-body{padding:0 1rem 1.1rem}.being-mission-row{flex-direction:column;align-items:flex-start}}@media (max-width:768px){.being-card{padding:1rem}.being-card-header{flex-direction:column;align-items:flex-start;gap:.75rem}.being-card-actions{width:100%;flex-wrap:wrap}.being-card-actions button{flex:1;min-width:45%}.being-card-info{order:2}.being-card-avatar{order:1}}